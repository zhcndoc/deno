<!DOCTYPE html>
<html lang="zh-CN"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Deno 1.x to 2.x Migration Guide - Deno 中文文档</title><meta name="description" content="Comprehensive guide to migrating from Deno 1.x to 2.x. Learn about breaking changes, API updates, Node.js compatibility features, and how to update your codebase to work with Deno 2.x."/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><script>const theme = localStorage.getItem('denoDocsTheme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'); document.documentElement.classList.add(theme);</script><link rel="stylesheet" href="/styles.css"/><link rel="preload" href="/fonts/inter/Inter-Regular.woff2" as="font" type="font/woff2" crossorigin="true"/><link rel="preload" href="/fonts/inter/Inter-SemiBold.woff2" as="font" type="font/woff2" crossorigin="true"/><link rel="me" href="https://fosstodon.org/@deno_land"/><meta name="twitter:title" content="Deno 1.x to 2.x Migration Guide"/><meta name="twitter:description" content="Comprehensive guide to migrating from Deno 1.x to 2.x. Learn about breaking changes, API updates, Node.js compatibility features, and how to update your codebase to work with Deno 2.x."/><meta name="twitter:image" content="https://docs.deno.com/runtime/reference/migration_guide/index.png"/><meta name="twitter:image:alt" content="Comprehensive guide to migrating from Deno 1.x to 2.x. Learn about breaking changes, API updates, Node.js compatibility features, and how to update your codebase to work with Deno 2.x."/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@deno_land"/><meta property="og:title" content="Deno 1.x to 2.x Migration Guide"/><meta property="og:description" content="Comprehensive guide to migrating from Deno 1.x to 2.x. Learn about breaking changes, API updates, Node.js compatibility features, and how to update your codebase to work with Deno 2.x."/><meta property="og:image" content="https://docs.deno.com/runtime/reference/migration_guide/index.png"/><meta property="og:image:alt" content="Comprehensive guide to migrating from Deno 1.x to 2.x. Learn about breaking changes, API updates, Node.js compatibility features, and how to update your codebase to work with Deno 2.x."/><meta property="og:type" content="article"/><meta property="og:site_name" content="Deno"/><meta property="og:locale" content="en_US"/><meta name="keywords" content="Deno, JavaScript, TypeScript, reference, documentation, guide, tutorial, example"/><script type="module" defer src="/components.js"></script><script type="module" defer src="/main.client.js"></script><script type="module" defer src="/lint_rules.client.js"></script><script type="module" defer src="/copy.client.js"></script><script type="module" defer src="/tabs.client.js"></script><script type="module" defer src="/feedback.client.js"></script><script type="module" defer src="/search.client.js"></script><script async src="https://www.zhcndoc.com/js/common.js"></script><link rel="preconnect" href="https://www.googletagmanager.com"/></head><body data-services-page="false"><a href="#content" class="opacity-0 p-2 px-4 bg-background-secondary transition-transform duration-150 rounded-md ease-out absolute top-2 left-2 -translate-y-full focus:opacity-100 focus:translate-y-0 z-[500]">Skip to main content</a><header class="w-full h-auto sticky top-0 z-[100] bg-background-raw border-b border-b-foreground-tertiary"><div class="grid grid-cols-[auto_1fr] md:grid-cols-[auto_auto_1fr] h-[var(--header-height)] gap-x-4 items-center justify-between px-4 w-full max-w-7xl mx-auto xlplus:px-0"><a href="https://deno.com" title="Deno main website" class="block h-8 w-8 xs:w-auto md:h-10 md:mr-auto overflow-hidden"><svg width="100%" height="100%" viewBox="0 0 1025 331" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class data-component="logo"><path id="background" d="M28.829,227.937c-8.871,-19.143 -13.822,-40.465 -13.822,-62.935c-0,-5.815 0.332,-11.554 0.977,-17.197c0.655,-5.703 1.626,-11.299 2.893,-16.773c7.12,-30.704 23.68,-57.808 46.452,-78.082c19.127,-17.006 42.558,-29.14 68.244,-34.64c10.137,-2.165 20.651,-3.304 31.43,-3.304c3.778,0.004 7.583,0.149 11.411,0.441c18.154,1.386 35.309,5.956 50.959,13.121c12.625,5.786 24.31,13.274 34.762,22.169c26.253,22.364 44.562,53.517 50.651,88.476c1.455,8.379 2.213,16.996 2.213,25.789c-0.003,3.784 -0.149,7.595 -0.442,11.429c-1.106,14.489 -4.241,28.342 -9.104,41.302c-6.788,18.051 -16.959,34.452 -29.738,48.428c-16.621,16.971 -37.743,24.523 -55.384,24.209c-12.828,-0.229 -25.379,-5.333 -34.052,-12.801c-12.39,-10.669 -17.394,-22.865 -19.11,-36.474c-0.426,-3.383 -0.176,-12.601 1.585,-18.984c1.312,-4.758 4.64,-13.946 9.507,-17.965c-5.693,-2.452 -13.021,-7.792 -15.331,-10.355c-0.568,-0.63 -0.494,-1.617 0.014,-2.296c0.509,-0.678 1.4,-0.946 2.199,-0.659c4.895,1.68 10.856,3.337 17.142,4.389c8.267,1.382 18.548,3.122 28.963,3.634c25.395,1.247 51.921,-10.151 60.154,-32.83c8.232,-22.679 5.038,-45.111 -24.496,-58.566c-29.535,-13.456 -43.178,-29.455 -67.041,-39.104c-15.587,-6.303 -32.935,-2.561 -50.746,7.282c-47.974,26.512 -90.955,110.279 -71.142,187.887c0.283,1.062 -0.195,2.18 -1.158,2.709c-0.903,0.495 -2.013,0.354 -2.761,-0.331c-5.766,-6.336 -10.998,-13.166 -15.623,-20.421c-3.578,-5.614 -6.79,-11.475 -9.606,-17.548Z" style="fill: var(--logoColor);"></path><path id="outline" d="M172.67,0.181c90.968,4.232 161.386,81.521 157.155,172.489c-4.232,90.968 -81.522,161.385 -172.489,157.153c-90.968,-4.231 -161.386,-81.52 -157.155,-172.487c4.232,-90.968 81.521,-161.386 172.489,-157.155Zm38.578,198.678c-10.415,-0.512 -20.696,-2.252 -28.963,-3.634c-6.286,-1.052 -12.247,-2.709 -17.142,-4.389c-0.799,-0.287 -1.69,-0.019 -2.199,0.659c-0.508,0.679 -0.582,1.666 -0.014,2.296c2.31,2.563 9.638,7.903 15.331,10.355c-4.867,4.019 -8.195,13.207 -9.507,17.965c-1.761,6.383 -2.011,15.601 -1.585,18.984c1.716,13.609 6.72,25.805 19.11,36.474c8.673,7.468 21.224,12.572 34.052,12.801c17.702,0.315 38.909,-7.29 55.556,-24.385c21.765,-23.861 36.023,-54.887 38.67,-89.554c6.303,-82.546 -55.596,-154.681 -138.143,-160.984c-82.545,-6.303 -154.68,55.597 -160.983,138.143c-3.264,42.749 11.764,82.706 38.481,112.17c0.744,0.809 1.944,1.006 2.907,0.477c0.963,-0.529 1.441,-1.647 1.158,-2.709c-19.813,-77.608 23.168,-161.375 71.142,-187.887c17.811,-9.843 35.159,-13.585 50.746,-7.282c23.863,9.649 37.506,25.648 67.041,39.104c29.534,13.455 32.728,35.887 24.496,58.566c-8.233,22.679 -34.759,34.077 -60.154,32.83Z" style="fill: var(--outlineColor);"></path><path id="logotype" d="M694.596,164.68c-0,4.838 -0,11.794 -0.909,14.213l-103.727,0c4.837,17.542 18.749,28.431 37.8,28.431c15.728,0.302 27.219,-6.654 35.383,-16.636l25.705,23.894c-12.7,16.028 -34.171,27.822 -63.809,27.822c-43.243,-0 -75.904,-30.242 -75.904,-76.513c-0,-44.756 31.148,-75.907 73.184,-75.907c43.243,-0 72.277,31.453 72.277,74.696Zm-71.07,-39.918c-16.025,-0 -28.729,8.771 -33.265,25.706l65.02,-0c-3.932,-15.422 -14.515,-25.706 -31.755,-25.706Zm175.096,-34.778c31.758,-0 53.829,16.938 53.829,62.298l0,87.703l-39.615,-0l0,-77.724c0,-28.124 -9.976,-36.892 -28.427,-36.892c-19.953,0 -33.564,13.908 -33.564,40.221l-0,74.395l-39.617,-0l0,-147.582l39.617,-0l-0,19.055l0.602,0c12.095,-14.213 29.037,-21.474 47.175,-21.474Zm146.977,152.42c-46.871,-0 -78.324,-32.058 -78.324,-76.21c-0,-44.153 31.453,-76.21 78.324,-76.21c45.971,-0 78.628,30.849 78.628,76.21c0,45.36 -32.657,76.21 -78.628,76.21Zm-0,-35.386c21.469,0 38.411,-16.934 38.411,-40.824c-0,-24.192 -16.332,-40.825 -38.411,-40.825c-22.986,0 -38.404,17.539 -38.404,40.825c0,22.984 16.028,40.824 38.404,40.824Zm-540.473,32.967l0,-150.001l54.227,-0c47.449,-0 77.952,30.845 77.952,75.212c-0,44.154 -28.597,74.789 -77.316,74.789l-54.863,-0Zm38.976,-35.705l13.133,-0c22.878,-0 37.917,-17.535 37.917,-39.084c-0,-22.395 -15.251,-39.507 -34.952,-39.507l-16.098,-0l0,78.591Z" style="fill: var(--textColor);"></path><path id="eye" d="M159.634,78.772c8.092,-0.634 15.152,6.272 16.369,15.457c1.624,12.235 -2.867,24.874 -17.633,25.165c-12.614,0.252 -16.436,-12.469 -15.6,-20.175c0.83,-7.706 7.182,-19.687 16.864,-20.447Z" style="fill: var(--eyeColor);"></path><style>
        [data-component=&quot;logo&quot;] {
          --logoColor: #000;
          --textColor: #000;
          --eyeColor: #000;
          --outlineColor: transparent;

          height: 100%;
          width: auto;
        }
        .dark [data-component=&quot;logo&quot;] {
          --textColor: #fff;
          --outlineColor: #fff;
        }
        @keyframes blink {
          0%, 100% {
            transform: scaleY(1);
          }
          50% {
            transform: scaleY(0.15);
          }
        }
        [data-component=&quot;logo&quot;]:hover,
        a:focus [data-component=&quot;logo&quot;] {
          #eye {
            transform-origin: 50% 30%;
            animation: blink 0.15s cubic-bezier(0.5, 0, 0.5, 1);
          }
        }
        </style></svg></a><nav id="main-nav" class="flex h-full items-center row-start-2 col-span-2 md:row-auto md:col-auto -mx-4 md:mx-0 overflow-x-auto md:overflow-clip"><a href="/runtime/" class="font-[clamp(0.8rem,1.5vw,1rem)] whitespace-nowrap relative py-0 px-4 h-full flex justify-center items-center text-foreground-primary hover:text-gray-800 transition-colors duration-200 font-bold text-gray-800 bg-header-highlight " data-active="true" aria-current="location"><div id="current-nav-item" class="absolute inset-0 bg-header-highlight -z-10 transition-transform duration-200 easing-[cubic-bezier(0.5,0,0.5,1)] origin-left" style="--left: 0px; --scaleX: 1; transform: translateX(var(--left)) scaleX(var(--scaleX));"></div>文档</a><a href="/api/deno/" class="font-[clamp(0.8rem,1.5vw,1rem)] whitespace-nowrap relative py-0 px-4 h-full flex justify-center items-center text-foreground-primary hover:text-gray-800 transition-colors duration-200  ">API 参考</a><a href="/examples/" class="font-[clamp(0.8rem,1.5vw,1rem)] whitespace-nowrap relative py-0 px-4 h-full flex justify-center items-center text-foreground-primary hover:text-gray-800 transition-colors duration-200  ">示例</a><a href="/services/" class="font-[clamp(0.8rem,1.5vw,1rem)] whitespace-nowrap relative py-0 px-4 h-full flex justify-center items-center text-foreground-primary hover:text-gray-800 transition-colors duration-200  services">服务</a></nav><div class="flex items-center gap-x-2 sm:gap-x-4 ml-auto w-full max-w-80"><div class="md:relative w-full"><div class="relative"><input type="search" placeholder="Search" id="orama-search-input" class="w-full min-w-24 rounded-lg placeholder:text-sm text-base leading-normal p-1 pl-8 border transition-all duration-150 text-foreground-primary border-foreground-secondary hover:bg-background-secondary focus:bg-background-secondary focus:outline-offset-1" style="background: url(/img/search.svg) no-repeat 0.5em 50%; background-size: 1.25em; background-color: var(--color-background-raw);"/><kbd id="search-key" class="hidden xs:flex pointer-events-none absolute font-sans rounded-sm top-1 right-1 bottom-1 w-auto border-1 border-foreground-tertiary border-b-2 border-r-2 bg-background-primary text-foreground-secondary text-center text-xs font-bold p-2 items-center justify-center dark:bg-background-secondary dark:border-gray-700">⌘K</kbd><div id="orama-search-loading" class="absolute left-2 top-1/2 transform -translate-y-1/2 hidden bg-background-raw"><div class="animate-spin rounded-full h-4 w-4 border-2 border-transparent border-r-foreground-primary bg-background-raw"></div></div><div class="sr-only" aria-live="polite" id="orama-results-announcer"></div></div><div id="orama-search-results" class="absolute inset-2 left-2 right-2 h-[calc(100vh-8rem)] top-10 md:top-full md:left-auto md:right-0 mt-2 bg-background-raw border border-foreground-tertiary rounded-xl shadow-2xl z-50 md:max-h-128 overflow-hidden hidden md:min-w-160 max-w-2xl"><div id="orama-search-results-content" class="overflow-y-auto h-full"></div><div class="border-t border-foreground-tertiary bg-background-secondary px-4 py-2 sticky bottom-0"><div class="flex items-center gap-6 text-xs text-foreground-secondary"><span><kbd class="px-1.5 py-0.5 text-xs font-semibold text-foreground-secondary bg-background-primary border-r-2 border-b-2 border border-foreground-tertiary rounded mr-1"><span aria-hidden="true">↑↓</span><span class="sr-only">Up or down to</span></kbd>navigate</span><span><kbd class="px-1.5 py-0.5 text-xs font-semibold text-foreground-secondary bg-background-primary border-r-2 border-b-2 border border-foreground-tertiary rounded mr-1"><span aria-hidden="true">↵</span><span class="sr-only">Enter to</span></kbd>select</span><span><kbd class="px-1.5 py-0.5 text-xs font-semibold text-foreground-secondary bg-background-primary border-r-2 border-b-2 border border-foreground-tertiary rounded mr-1"><span aria-hidden="true">ESC</span><span class="sr-only">Escape to</span></kbd>close</span></div></div></div></div><button type="button" aria-label="toggle theme" class="shrink-0 h-9 aspect-square p-1 cursor-pointer rounded border border-transparent transition-colors duration-200 ease-in-out text-foreground-secondary hover:decoration-none hover:bg-background-secondary hover:border-background-tertiary flex flex-col items-center justify-start overflow-hidden" id="theme-toggle"><img src="/img/light.svg" class="w-full block -translate-y-full dark:translate-y-0 transition-transform duration-200 easing-[0.86,0,0.07,1]" alt/><img src="/img/dark.svg" class="w-full block -translate-y-full dark:translate-y-0 transition-transform duration-200 easing-[0.86,0,0.07,1]" alt/><span class="sr-only">Toggle Theme</span></button><button type="button" id="hamburger-button" class="h-8 w-auto py-2 px-0 flex flex-col justify-between rounded md:hidden" aria-pressed="false"><div class="block w-6 h-0.5 bg-foreground-primary duration-200 ease-[cubic-bezier(0.77,0,0.175,1)] transition-transform hamburger-bar--top"></div><div class="block w-6 h-0.5 bg-foreground-primary duration-200 ease-[cubic-bezier(0.77,0,0.175,1)] transition-opacity hamburger-bar--middle"></div><div class="block w-6 h-0.5 bg-foreground-primary duration-200 ease-[cubic-bezier(0.77,0,0.175,1)] transition-transform hamburger-bar--bottom"></div><span class="sr-only">Toggle navigation menu</span></button></div></div></header><div class="layout layout--three-column"><aside class="fixed transition-all duration-200 md:duration-0 easing-[cubic-bezier(0.165,0.84,0.44,1)] -translate-x-full z-50 w-full bg-background-raw opacity-0 p-4 pb-8 overflow-auto text-smaller md:sticky md:overflow-y-auto md:[scrollbar-width:thin] md:z-10 md:!translate-x-0 md:!opacity-100 md:p-0 md:pb-16 lg:border-r lg:border-r-foreground-tertiary lg:w-full sidebar-open:translate-x-0 sidebar-open:opacity-100
         top-header h-screen-minus-header" data-component="sidebar-nav" data-section="runtime" id="nav" style="scrollbar-width: none;" tabindex="-1"><nav><h2 class="block uppercase py-2 pr-4 mt-4 text-foreground-secondary font-bold leading-[1.2] text-balance tracking-wide !border-0">入门</h2><ul class="p-0 list-none overflow-y-hidden "><li><a href="/runtime/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">欢迎使用 Deno</a></li><li><a href="/runtime/getting_started/installation/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">安装</a></li><li><a href="/runtime/getting_started/first_project/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">第一个项目</a></li><li><a href="/runtime/getting_started/setup_your_environment/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">设置你的环境</a></li><li><a href="/runtime/getting_started/command_line_interface/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">命令行界面</a></li></ul></nav><nav><h2 class="block uppercase py-2 pr-4 mt-4 text-foreground-secondary font-bold leading-[1.2] text-balance tracking-wide !border-0">基础知识</h2><ul class="p-0 list-none overflow-y-hidden "><li><a href="/runtime/fundamentals/typescript/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">TypeScript</a></li><li><a href="/runtime/fundamentals/node/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">Node</a></li><li><a href="/runtime/fundamentals/security/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">安全</a></li><li><a href="/runtime/fundamentals/modules/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">模块和依赖</a></li><li><a href="/runtime/fundamentals/configuration/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">配置</a></li><li><a href="/runtime/fundamentals/standard_library/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">标准库</a></li><li><a href="/runtime/fundamentals/web_dev/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">Web 开发</a></li><li><a href="/runtime/fundamentals/testing/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">测试</a></li><li><a href="/runtime/fundamentals/debugging/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">调试</a></li><li><a href="/runtime/fundamentals/workspaces/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">工作空间</a></li><li><a href="/runtime/fundamentals/linting_and_formatting/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">代码检查和格式化</a></li><li><a href="/runtime/fundamentals/http_server/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">HTTP 服务器</a></li><li><a href="/runtime/fundamentals/ffi/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">FFI</a></li><li><a href="/runtime/fundamentals/open_telemetry/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">OpenTelemetry</a></li><li><a href="/runtime/fundamentals/stability_and_releases/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">稳定性和发布</a></li></ul></nav><nav><h2 class="block uppercase py-2 pr-4 mt-4 text-foreground-secondary font-bold leading-[1.2] text-balance tracking-wide !border-0">参考指南</h2><ul class="p-0 list-none overflow-y-hidden "><li><button type="button" data-accordion-toggle="CLI" class="sub-nav-toggle block relative py-1 px-3 after:right-4 [font:inherit] after:translate-y-1/2 after:transition-transform after:duration-100 after:ease-in after:[background:url(./img/chevron.svg)_no-repeat_center] after:-top-0.5 after:block after:w-4 after:h-4 after:absolute w-full text-left">CLI</button><ul class="p-0 list-none overflow-y-hidden "><li><a href="/runtime/reference/cli/add/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno add</a></li><li><a href="/runtime/reference/cli/bench/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno bench</a></li><li><a href="/runtime/reference/cli/bundle/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno bundle</a></li><li><a href="/runtime/reference/cli/check/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno check</a></li><li><a href="/runtime/reference/cli/clean/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno clean</a></li><li><a href="/runtime/reference/cli/compile/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno compile</a></li><li><a href="/runtime/reference/cli/completions/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno completions</a></li><li><a href="/runtime/reference/cli/coverage/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno coverage</a></li><li><a href="/runtime/reference/cli/deploy/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno deploy</a></li><li><a href="/runtime/reference/cli/doc/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno doc</a></li><li><a href="/runtime/reference/cli/eval/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno eval</a></li><li><a href="/runtime/reference/cli/fmt/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno fmt</a></li><li><a href="/runtime/reference/cli/info/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno info</a></li><li><a href="/runtime/reference/cli/init/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno init</a></li><li><a href="/runtime/reference/cli/install/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno install</a></li><li><a href="/runtime/reference/cli/jupyter/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno jupyter</a></li><li><a href="/runtime/reference/cli/lint/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno lint</a></li><li><a href="/runtime/reference/cli/outdated/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno outdated</a></li><li><a href="/runtime/reference/cli/publish/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno publish</a></li><li><a href="/runtime/reference/cli/lsp/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno lsp</a></li><li><a href="/runtime/reference/cli/remove/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno remove</a></li><li><a href="/runtime/reference/cli/repl/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno repl</a></li><li><a href="/runtime/reference/cli/run/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno run</a></li><li><a href="/runtime/reference/cli/serve/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno serve</a></li><li><a href="/runtime/reference/cli/task/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno task</a></li><li><a href="/runtime/reference/cli/test/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno test</a></li><li><a href="/runtime/reference/cli/types/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno types</a></li><li><a href="/runtime/reference/cli/uninstall/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno uninstall</a></li><li><a href="/runtime/reference/cli/update/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno update</a></li><li><a href="/runtime/reference/cli/upgrade/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno upgrade</a></li><li><a href="/runtime/reference/cli/unstable_flags/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">deno unstable flags</a></li></ul></li><li><a href="/runtime/reference/ts_config_migration/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">TS 配置迁移</a></li><li><a href="/runtime/reference/continuous_integration/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">持续集成</a></li><li><a href="/runtime/reference/env_variables/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">环境变量</a></li><li><a href="/runtime/reference/vscode/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">Deno &amp; VS Code</a></li><li><a href="/runtime/reference/jsx/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">使用 JSX 和 React</a></li><li><a href="/runtime/reference/documentation/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">在文档中测试代码</a></li><li><a href="/runtime/reference/bundling/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">捆绑</a></li><li><a href="/runtime/reference/lint_plugins/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">Lint 插件</a></li><li><a href="/runtime/reference/wasm/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">WebAssembly</a></li><li><a href="/runtime/reference/migration_guide/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 bg-header-highlight border-foreground-secondary text-gray-800" data-active="true">迁移指南</a></li><li><a href="/runtime/reference/lsp_integration/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">语言服务器集成</a></li><li><a href="/runtime/reference/docker/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">Docker</a></li></ul></nav><nav><h2 class="block uppercase py-2 pr-4 mt-4 text-foreground-secondary font-bold leading-[1.2] text-balance tracking-wide !border-0">贡献与支持</h2><ul class="p-0 list-none overflow-y-hidden "><li><button type="button" data-accordion-toggle="为Deno做出贡献" class="sub-nav-toggle block relative py-1 px-3 after:right-4 [font:inherit] after:translate-y-1/2 after:transition-transform after:duration-100 after:ease-in after:[background:url(./img/chevron.svg)_no-repeat_center] after:-top-0.5 after:block after:w-4 after:h-4 after:absolute w-full text-left">为 Deno 做出贡献</button><ul class="p-0 list-none overflow-y-hidden "><li><a href="/runtime/contributing/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">贡献概述</a></li><li><a href="/runtime/contributing/architecture/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">内部细节</a></li><li><a href="/runtime/contributing/profiling/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">分析</a></li><li><a href="/runtime/contributing/release_schedule/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">发布计划</a></li><li><a href="/runtime/contributing/style_guide/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">风格指南</a></li><li><a href="/runtime/contributing/docs/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">文档</a></li><li><a href="/runtime/contributing/examples/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">示例</a></li></ul></li><li><a href="/runtime/help/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" data-active="false">帮助</a></li></ul></nav></aside><main id="content" class="content "><div class="w-full"><article class="mx-auto"><nav><ul class="flex items-center text-center mt-2 -ml-3 text-foreground-secondary sm:mt-4" itemscope itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/runtime/" itemprop="item" class="flex items-center pl-3 py-1.5 underline underline-offset-4 decoration-foreground-tertiary hover:text-foreground-secondary hover:underline-medium hover:bg-foreground-quaternary dark:hover:bg-background-secondary dark:hover:text-foreground-primary rounded transition duration-100 text-xs after:w-4 after:h-4 after:[background:url(./img/chevron.svg)_no-repeat_center] after:inline-block after:ml-2"><span itemprop="name">Runtime</span></a><meta itemprop="position" content="1"/></li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><span itemprop="name" class="flex items-center pl-2 py-1.5 text-xs ">Deno 1.x to 2.x Migration Guide</span><meta itemprop="position" content="2"/></li></ul></nav><details class="block lg:hidden my-4 bg-foreground-quaternary rounded-md group"><summary class="px-4 py-2 group-open:border-b border-background-tertiary">On this page</summary><ul class="p-4 pt-2"><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E4%B8%8E-node.js-%E5%92%8C-npm-%E7%9A%84%E5%90%91%E5%90%8E%E5%85%BC%E5%AE%B9%E6%80%A7" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">与 Node.js 和 npm 的向后兼容性 </a><ul class="ml-2"><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E9%95%BF%E6%9C%9F%E6%94%AF%E6%8C%81%E7%89%88%E6%9C%AC" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">长期支持版本 </a></li></ul></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E7%AE%A1%E7%90%86%E4%BE%9D%E8%B5%96" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">管理依赖 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#monorepo%E3%80%81%E5%B7%A5%E4%BD%9C%E5%8C%BA%E5%92%8C%E7%A7%81%E6%9C%89%E6%B3%A8%E5%86%8C%E8%A1%A8%E6%94%AF%E6%8C%81" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">Monorepo、工作区和私有注册表支持 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E6%A1%86%E6%9E%B6%E6%94%AF%E6%8C%81" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">框架支持 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E9%85%8D%E7%BD%AE%E6%9B%B4%E6%94%B9" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">配置更改 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#cli-%E6%9B%B4%E6%94%B9" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">CLI 更改 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E5%AF%BC%E5%85%A5%E6%96%AD%E8%A8%80%E7%A7%BB%E9%99%A4" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">导入断言移除 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#api-%E6%9B%B4%E6%94%B9" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">API 更改 </a></li></ul></details><div data-color-mode="auto" data-light-theme="light" data-dark-theme="dark" class="markdown-body mt-4 sm:mt-6"><h1>Deno 1.x to 2.x Migration Guide</h1><div><p>尽管我们在 Deno 1.x 中取得了大量成就，下一个主要版本旨在
支持 Deno <strong>大规模应用</strong>。这意味着与 Node.js 和
npm JavaScript 基础设施的无缝互操作性，并支持更广泛的项目和
开发团队，所有这些都在不牺牲开发者所喜爱的简单性、安全性和
“内置电池”特性的情况下实现。</p>
<h2 id="%E4%B8%8E-node.js-%E5%92%8C-npm-%E7%9A%84%E5%90%91%E5%90%8E%E5%85%BC%E5%AE%B9%E6%80%A7" tabindex="-1">与 Node.js 和 npm 的向后兼容性 <a class="header-anchor" href="#%E4%B8%8E-node.js-%E5%92%8C-npm-%E7%9A%84%E5%90%91%E5%90%8E%E5%85%BC%E5%AE%B9%E6%80%A7"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h2>
<p>Deno 2 与 Node.js 和 npm 向后兼容。这不仅允许你在当前的 Node.js 项目中运行 Deno，还允许你逐步采用 Deno 的一体化工具链的各个部分。</p>
<p>例如，你可以在 Node.js 项目中使用 <code>deno install</code> 来安装
依赖项，运行 <code>deno fmt</code> 来格式化代码而无需使用 Prettier，或使用
<code>deno lint</code> 来检查常见问题，而不是使用 ESLint。</p>
<p>Deno 2 理解 <code>package.json</code>、<code>node_modules</code> 目录，甚至支持 npm
工作区，使你能够轻松迁移现有的使用 ESM 的项目。</p>
<p>为了更好地兼容 Node，默认情况下在存在 package.json 时不会自动安装 npm 包，而推荐运行 <code>deno install</code>。
要获取 Deno 1.x 中的自动安装行为，请将以下内容添加到你的
deno.json 中：</p>
<div><div class="markdownBlockTitle">deno.json</div><div class="relative"><pre><code class="highlight notranslate language-json"><span class="token punctuation">{</span>
  <span class="token property">"nodeModulesDir"</span><span class="token operator">:</span> <span class="token string">"auto"</span>
<span class="token punctuation">}</span>
</code></pre>

      <button id="copy-button-18" class="copyButton" data-copy="{
  &quot;nodeModulesDir&quot;: &quot;auto&quot;
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></div><p><a href="/runtime/fundamentals/node/">在 <code>Node.js 支持</code> 页面上了解更多</a></p>
<h3 id="%E9%95%BF%E6%9C%9F%E6%94%AF%E6%8C%81%E7%89%88%E6%9C%AC" tabindex="-1">长期支持版本 <a class="header-anchor" href="#%E9%95%BF%E6%9C%9F%E6%94%AF%E6%8C%81%E7%89%88%E6%9C%AC"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h3>
<p>从 Deno v2.1.0（预计在 2024 年 11 月发布）开始，Deno 将提供
LTS（长期支持）通道。</p>
<p>LTS 版本支持 6 个月，接收 bug 修复和关键性能修复，然后将新版本提升为 LTS。</p>
<p><a href="/runtime/fundamentals/stability_and_releases/#long-term-support-(lts)">在 <code>稳定性和发布</code> 页面上了解更多</a></p>
<h2 id="%E7%AE%A1%E7%90%86%E4%BE%9D%E8%B5%96" tabindex="-1">管理依赖 <a class="header-anchor" href="#%E7%AE%A1%E7%90%86%E4%BE%9D%E8%B5%96"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h2>
<p>Deno 2 大大改善了对 npm 和 JSR 包的依赖管理，提供了以下工具：</p>
<ul>
<li><a href="/runtime/reference/cli/install/"><code>deno install</code></a></li>
<li><a href="/runtime/reference/cli/add/"><code>deno add</code></a></li>
<li><a href="/runtime/reference/cli/remove/"><code>deno remove</code></a></li>
</ul>
<p>你可以期待与 Deno 首先的项目（使用 <code>deno.json</code>）、Node.js 首先的项目（使用 <code>package.json</code>）以及混合项目（使用 <code>deno.json</code> 和 <code>package.json</code>）之间的无缝体验，从而实现易于迁移的路径。</p>
<h2 id="monorepo%E3%80%81%E5%B7%A5%E4%BD%9C%E5%8C%BA%E5%92%8C%E7%A7%81%E6%9C%89%E6%B3%A8%E5%86%8C%E8%A1%A8%E6%94%AF%E6%8C%81" tabindex="-1">Monorepo、工作区和私有注册表支持 <a class="header-anchor" href="#monorepo%E3%80%81%E5%B7%A5%E4%BD%9C%E5%8C%BA%E5%92%8C%E7%A7%81%E6%9C%89%E6%B3%A8%E5%86%8C%E8%A1%A8%E6%94%AF%E6%8C%81"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h2>
<p>Deno 2 是针对在重要项目上工作的开发团队而构建的。这些团队处理复杂的代码库，共享内部代码，通常使用私有注册表。</p>
<p>使用 Deno 2，你的团队可以像使用 Node.js 和 npm 一样利用私有 npm 注册表，使用 <code>.npmrc</code> 文件：</p>
<div><div class="markdownBlockTitle">.npmrc</div><div class="relative"><pre><code class="highlight notranslate language-js">@mycompany<span class="token operator">:</span>registry<span class="token operator">=</span>http<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">mycompany.com:8111</span><span class="token regex-delimiter">/</span></span>
mycompany<span class="token punctuation">.</span>com<span class="token operator">:</span><span class="token number">8111</span><span class="token operator">/</span><span class="token operator">:</span>_authToken<span class="token operator">=</span>token
</code></pre>

      <button id="copy-button-69" class="copyButton" data-copy="@mycompany:registry=http://mycompany.com:8111/
mycompany.com:8111/:_authToken=token
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></div><p>了解更多关于私有注册表配置
<a href="/runtime/fundamentals/node/#private-registries">在 <code>npm 包</code> 页面上</a>。</p>
<p>Deno 2 具有工作区支持，允许你在同一个 monorepo 中混合 Deno 首先和 Node 首先的包，使增量采用变得快速且易于实现。</p>
<p>阅读更多
<a href="/runtime/fundamentals/workspaces/">在 <code>工作区和单一仓库</code> 页面上</a>。</p>
<h2 id="%E6%A1%86%E6%9E%B6%E6%94%AF%E6%8C%81" tabindex="-1">框架支持 <a class="header-anchor" href="#%E6%A1%86%E6%9E%B6%E6%94%AF%E6%8C%81"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h2>
<p>随着 Node.js 和 npm 兼容性的提高，Deno 2 支持许多用户喜爱的框架，例如：</p>
<ul>
<li>Next.js</li>
<li>SvelteKit</li>
<li>Remix</li>
<li>Nuxt</li>
<li>TanStack</li>
<li>Qwik</li>
<li>等等</li>
</ul>
<p>大多数现有项目将需要最小或不需要更改；只需用 <code>deno task dev</code> 替换
<code>npm run dev</code>，便可以开始工作。</p>
<p>Deno 将提供有用的错误消息，附带建议，以引导你走向工作解决方案。</p>
<p>你还可以使用 <code>deno lint --fix</code> 自动修复常见的不兼容性。</p>
<hr>
<p>以下部分概述了 Deno 1.x 与 Deno 2 之间的配置、CLI 和 API 变化。</p>
<h2 id="%E9%85%8D%E7%BD%AE%E6%9B%B4%E6%94%B9" tabindex="-1">配置更改 <a class="header-anchor" href="#%E9%85%8D%E7%BD%AE%E6%9B%B4%E6%94%B9"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h2>
<ul>
<li><code>nodeModulesDir</code></li>
</ul>
<p>对于 <code>nodeModulesDir</code> 和 <code>--node-modules-dir</code> 配置选项使用布尔值已被弃用，取而代之的是选择多种行为选项。因此，当未设置该选项时，默认值已更改。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> "nodeModulesDir": false | true
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> "nodeModulesDir": "none" | "auto" | "manual"
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> 默认值（无 package.json 时）：false（对应于 "none"）
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> 默认值（无 package.json 时）："none"
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> 默认值（有 package.json 时）：true（对应于 "auto"）
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> 默认值（有 package.json 时）："manual"
</span></span></code></pre>

      <button id="copy-button-148" class="copyButton" data-copy="- &quot;nodeModulesDir&quot;: false | true
+ &quot;nodeModulesDir&quot;: &quot;none&quot; | &quot;auto&quot; | &quot;manual&quot;

- 默认值（无 package.json 时）：false（对应于 &quot;none&quot;）
+ 默认值（无 package.json 时）：&quot;none&quot;

- 默认值（有 package.json 时）：true（对应于 &quot;auto&quot;）
+ 默认值（有 package.json 时）：&quot;manual&quot;
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>如果你的项目中未包含 <code>package.json</code> 文件，则默认行为将保持不变。</p>
<p>如果你的项目中包含 <code>package.json</code> 文件且未指定 <code>nodeModulesDir</code> 选项，则必须将其设置为 <code>auto</code> 以保持 Deno 1.x 中的自动安装行为。Deno 2 中的新默认值为 <code>manual</code>，这意味着用户必须手动保持该目录的最新状态。</p>
<p>参见
<a href="https://docs.deno.com/runtime/fundamentals/configuration/#node-modules-directory">Node 模块目录</a>
以供参考。</p>
<h2 id="cli-%E6%9B%B4%E6%94%B9" tabindex="-1">CLI 更改 <a class="header-anchor" href="#cli-%E6%9B%B4%E6%94%B9"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h2>
<ul>
<li><code>deno bundle</code></li>
</ul>
<p><code>deno bundle</code> 命令已被删除。我们建议结合使用
<a href="https://esbuild.github.io/"><code>esbuild</code></a> 和
<a href="https://jsr.io/@luca/esbuild-deno-loader"><code>esbuild-deno-loader</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-ts"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> esbuild <span class="token keyword">from</span> <span class="token string">"npm:esbuild"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> denoPlugins <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"jsr:@luca/esbuild-deno-loader"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> esbuild<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">denoPlugins</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  entryPoints<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"https://deno.land/std@0.185.0/bytes/mod.ts"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  outfile<span class="token operator">:</span> <span class="token string">"./dist/bytes.esm.js"</span><span class="token punctuation">,</span>
  bundle<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  format<span class="token operator">:</span> <span class="token string">"esm"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

esbuild<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

      <button id="copy-button-171" class="copyButton" data-copy="import * as esbuild from &quot;npm:esbuild&quot;;
import { denoPlugins } from &quot;jsr:@luca/esbuild-deno-loader&quot;;

const result = await esbuild.build({
  plugins: [...denoPlugins()],
  entryPoints: [&quot;https://deno.land/std@0.185.0/bytes/mod.ts&quot;],
  outfile: &quot;./dist/bytes.esm.js&quot;,
  bundle: true,
  format: &quot;esm&quot;,
});

esbuild.stop();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><ul>
<li><code>deno cache</code></li>
</ul>
<p><code>deno cache</code> 命令已合并到 <code>deno install</code> 命令中的 <code>--entrypoint</code> 选项下。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> deno cache main.ts
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> deno install --entrypoint main.ts
</span></span></code></pre>

      <button id="copy-button-182" class="copyButton" data-copy="- deno cache main.ts
+ deno install --entrypoint main.ts
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><ul>
<li><code>deno vendor</code></li>
</ul>
<p><code>deno vendor</code> 命令已被 <code>deno.json</code> 中的 <code>&quot;vendor&quot;: true</code> 配置选项所替代。</p>
<div><div class="markdownBlockTitle">deno.json</div><div class="relative"><pre><code class="highlight notranslate language-json"><span class="token punctuation">{</span>
  <span class="token property">"vendor"</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre>

      <button id="copy-button-193" class="copyButton" data-copy="{
  &quot;vendor&quot;: true
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></div><ul>
<li><code>--allow-none</code></li>
</ul>
<p>请改用 <code>--permit-no-files</code> CLI 标志。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> deno test --allow-none
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> deno test --permit-no-files
</span></span></code></pre>

      <button id="copy-button-204" class="copyButton" data-copy="- deno test --allow-none
+ deno test --permit-no-files
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><ul>
<li><code>--jobs</code></li>
</ul>
<p>请使用
<a href="https://docs.deno.com/runtime/manual/basics/env_variables/#special-environment-variables"><code>DENO_JOBS</code></a>
环境变量来替代。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> deno test --jobs=4 --parallel
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> DENO_JOBS=4 deno test --parallel
</span></span></code></pre>

      <button id="copy-button-215" class="copyButton" data-copy="- deno test --jobs=4 --parallel
+ DENO_JOBS=4 deno test --parallel
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><ul>
<li><code>--ts</code></li>
</ul>
<p>请改用 <code>--ext=ts</code> CLI 标志。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> deno run --ts script.ts
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> deno run --ext=ts script.ts
</span></span></code></pre>

      <button id="copy-button-226" class="copyButton" data-copy="- deno run --ts script.ts
+ deno run --ext=ts script.ts
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> deno run -T script.ts
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> deno run --ext=ts script.ts
</span></span></code></pre>

      <button id="copy-button-227" class="copyButton" data-copy="- deno run -T script.ts
+ deno run --ext=ts script.ts
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><ul>
<li><code>--trace-ops</code></li>
</ul>
<p>请改用 <code>--trace-leaks</code> CLI 标志。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> deno test --trace-ops
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> deno test --trace-leaks
</span></span></code></pre>

      <button id="copy-button-238" class="copyButton" data-copy="- deno test --trace-ops
+ deno test --trace-leaks
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><ul>
<li><code>--unstable</code></li>
</ul>
<p>请使用更细化的不稳定标志（<code>--unstable-*</code>）或配置选项。
参见
<a href="https://docs.deno.com/runtime/reference/cli/unstable_flags/">不稳定特性标志</a>
以供参考。</p>
<div class="relative"><pre><code class="highlight notranslate language-ts"><span class="token comment">// kv.ts</span>
<span class="token keyword">const</span> kv <span class="token operator">=</span> <span class="token keyword">await</span> Deno<span class="token punctuation">.</span><span class="token function">openKv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>
</code></pre>

      <button id="copy-button-249" class="copyButton" data-copy="// kv.ts
const kv = await Deno.openKv();

// ...
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> deno run --unstable kv.ts
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> deno run --unstable-kv kv.ts
</span></span></code></pre>

      <button id="copy-button-250" class="copyButton" data-copy="- deno run --unstable kv.ts
+ deno run --unstable-kv kv.ts
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>或</p>
<div class="relative"><pre><code class="highlight notranslate language-diff">{
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> "unstable": ["kv"]
</span></span>}
</code></pre>

      <button id="copy-button-254" class="copyButton" data-copy="{
+ &quot;unstable&quot;: [&quot;kv&quot;]
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参见
<a href="https://deno.com/blog/v1.40#changes-to-how-we-handle-unstable-features">Deno 1.40 博客文章</a>。</p>
<h2 id="%E5%AF%BC%E5%85%A5%E6%96%AD%E8%A8%80%E7%A7%BB%E9%99%A4" tabindex="-1">导入断言移除 <a class="header-anchor" href="#%E5%AF%BC%E5%85%A5%E6%96%AD%E8%A8%80%E7%A7%BB%E9%99%A4"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h2>
<p>导入断言已从 JavaScript 中移除，并在 Deno 2.0 中被弃用。请改用导入属性：</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> import data from "./data.json" assert { type: "json" };
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import data from "./data.json" with { type: "json" };
</span></span></code></pre>

      <button id="copy-button-264" class="copyButton" data-copy="- import data from &quot;./data.json&quot; assert { type: &quot;json&quot; };
+ import data from &quot;./data.json&quot; with { type: &quot;json&quot; };
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>这是少数几个提案在达到第三阶段后被 <a href="https://github.com/tc39/proposal-import-attributes?tab=readme-ov-file#history">降级的情况之一</a>。</p>
<h2 id="api-%E6%9B%B4%E6%94%B9" tabindex="-1">API 更改 <a class="header-anchor" href="#api-%E6%9B%B4%E6%94%B9"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h2>
<ul>
<li><code>Deno.Buffer</code></li>
</ul>
<p>请改用来自标准库的 <a href="https://jsr.io/@std/io/doc/buffer/~/Buffer"><code>Buffer</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { Buffer } from "jsr:@std/io/buffer";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const buffer = new Deno.Buffer();
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const buffer = new Buffer();
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...
</span></span></code></pre>

      <button id="copy-button-281" class="copyButton" data-copy="+ import { Buffer } from &quot;jsr:@std/io/buffer&quot;;

- const buffer = new Deno.Buffer();
+ const buffer = new Buffer();

  // ...
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
<ul>
<li><code>Deno.Closer</code></li>
</ul>
<p>请改用来自标准库的 <a href="https://jsr.io/@std/io/doc/types/~/Closer"><code>Closer</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import type { Closer } from "jsr:@std/io/types";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(closer: Deno.Closer) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(closer: Closer) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...
</span></span>}
</code></pre>

      <button id="copy-button-295" class="copyButton" data-copy="+ import type { Closer } from &quot;jsr:@std/io/types&quot;;

- function foo(closer: Deno.Closer) {
+ function foo(closer: Closer) {
  // ...
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
<ul>
<li><code>Deno.close()</code></li>
</ul>
<p>请改用资源的 <code>.close()</code> 方法。</p>
<p><a href="#" id="rid">测试</a></p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const conn = await Deno.connect({ port: 80 });
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(conn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> conn.close();
</span></span></code></pre>

      <button id="copy-button-312" class="copyButton" data-copy="  const conn = await Deno.connect({ port: 80 });

  // ...

- Deno.close(conn.rid);
+ conn.close();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.close();
</span></span></code></pre>

      <button id="copy-button-313" class="copyButton" data-copy="  const file = await Deno.open(&quot;/foo/bar.txt&quot;);

  // ...

- Deno.close(file.rid);
+ file.close();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.Conn.prototype.rid</code></li>
</ul>
<p>请改用 <a href="https://docs.deno.com/api/deno/~/Deno.Conn"><code>Deno.Conn</code></a> 实例方法。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const conn = await Deno.connect({ port: 80 });
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.read(conn.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await conn.read(buffer);
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(conn.rid, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await conn.write(data);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.shutdown(conn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await conn.closeWrite();
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(conn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> conn.close();
</span></span></code></pre>

      <button id="copy-button-327" class="copyButton" data-copy="  const conn = await Deno.connect({ port: 80 });

  const buffer = new Uint8Array(1_024);
- await Deno.read(conn.rid, buffer);
+ await conn.read(buffer);

  const data = new TextEncoder().encode(&quot;Hello, world!&quot;);
- await Deno.write(conn.rid, data);
+ await conn.write(data);

- await Deno.shutdown(conn.rid);
+ await conn.closeWrite();

- Deno.close(conn.rid);
+ conn.close();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.ConnectTlsOptions.certChain</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.TlsCertifiedKeyPem#property_cert"><code>cert</code></a>
选项。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff">const caCert = await Deno.readTextFile("./certs/my_custom_root_CA.pem");
using conn = await Deno.connectTls({
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> hostname: "192.0.2.1",
</span><span class="token prefix unchanged"> </span><span class="token line"> port: 80,
</span><span class="token prefix unchanged"> </span><span class="token line"> caCerts: [caCert],
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> certChain: Deno.readTextFileSync("./server.crt"),
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> cert: Deno.readTextFileSync("./server.crt"),
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> key: Deno.readTextFileSync("./server.key"),
</span></span>});
</code></pre>

      <button id="copy-button-341" class="copyButton" data-copy="const caCert = await Deno.readTextFile(&quot;./certs/my_custom_root_CA.pem&quot;);
using conn = await Deno.connectTls({
  hostname: &quot;192.0.2.1&quot;,
  port: 80,
  caCerts: [caCert],
- certChain: Deno.readTextFileSync(&quot;./server.crt&quot;),
+ cert: Deno.readTextFileSync(&quot;./server.crt&quot;),
  key: Deno.readTextFileSync(&quot;./server.key&quot;),
});
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/pull/22274">deno#22274</a>。</p>
<ul>
<li><code>Deno.ConnectTlsOptions.certFile</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.TlsCertifiedKeyPem#property_cert"><code>cert</code></a>
选项。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff">const caCert = await Deno.readTextFile("./certs/my_custom_root_CA.pem");
using conn = await Deno.connectTls({
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> hostname: "192.0.2.1",
</span><span class="token prefix unchanged"> </span><span class="token line"> port: 80,
</span><span class="token prefix unchanged"> </span><span class="token line"> caCerts: [caCert],
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> certFile: "./server.crt",
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> cert: Deno.readTextFileSync("./server.crt"),
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> key: Deno.readTextFileSync("./server.key"),
</span></span>});
</code></pre>

      <button id="copy-button-355" class="copyButton" data-copy="const caCert = await Deno.readTextFile(&quot;./certs/my_custom_root_CA.pem&quot;);
using conn = await Deno.connectTls({
  hostname: &quot;192.0.2.1&quot;,
  port: 80,
  caCerts: [caCert],
- certFile: &quot;./server.crt&quot;,
+ cert: Deno.readTextFileSync(&quot;./server.crt&quot;),
  key: Deno.readTextFileSync(&quot;./server.key&quot;),
});
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/pull/22274">deno#22274</a>。</p>
<ul>
<li><code>Deno.ConnectTlsOptions.privateKey</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.TlsCertifiedKeyPem#property_key"><code>key</code></a>
选项。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff">const caCert = await Deno.readTextFile("./certs/my_custom_root_CA.pem");
using conn = await Deno.connectTls({
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> hostname: "192.0.2.1",
</span><span class="token prefix unchanged"> </span><span class="token line"> port: 80,
</span><span class="token prefix unchanged"> </span><span class="token line"> caCerts: [caCert],
</span><span class="token prefix unchanged"> </span><span class="token line"> cert: Deno.readTextFileSync("./server.crt"),
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> keyFile: "./server.key",
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> key: Deno.readTextFileSync("./server.key"),
</span></span>});
</code></pre>

      <button id="copy-button-369" class="copyButton" data-copy="const caCert = await Deno.readTextFile(&quot;./certs/my_custom_root_CA.pem&quot;);
using conn = await Deno.connectTls({
  hostname: &quot;192.0.2.1&quot;,
  port: 80,
  caCerts: [caCert],
  cert: Deno.readTextFileSync(&quot;./server.crt&quot;),
- keyFile: &quot;./server.key&quot;,
+ key: Deno.readTextFileSync(&quot;./server.key&quot;),
});
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/pull/22274">deno#22274</a>。</p>
<ul>
<li><code>Deno.copy()</code></li>
</ul>
<p>请改用来自标准库的 <a href="https://jsr.io/@std/io/doc/copy/~/copy"><code>copy()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { copy } from "jsr:@std/io/copy";
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.copy(file, Deno.stdout);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await copy(file, Deno.stdout);
</span></span></code></pre>

      <button id="copy-button-383" class="copyButton" data-copy="+ import { copy } from &quot;jsr:@std/io/copy&quot;;

  using file = await Deno.open(&quot;/foo/bar.txt&quot;);

- await Deno.copy(file, Deno.stdout);
+ await copy(file, Deno.stdout);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
<ul>
<li><code>Deno.customInspect</code></li>
</ul>
<p>请改用 <code>Symbol.for(&quot;Deno.customInspect&quot;)</code>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff">class Foo {
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> [Deno.customInspect]() {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> [Symbol.for("Deno.customInspect")] {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> }
</span></span>}
</code></pre>

      <button id="copy-button-397" class="copyButton" data-copy="class Foo {
- [Deno.customInspect]() {
+ [Symbol.for(&quot;Deno.customInspect&quot;)] {
  }
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关更多详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9294">deno#9294</a>。</p>
<ul>
<li><code>Deno.fdatasync()</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.FsFile.prototype.syncData"><code>Deno.FsFile.prototype.syncData()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = await Deno.open("/foo/bar.txt", { read: true, write: true });
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> await file.write(new TextEncoder().encode("Hello, world!"));
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.fdatasync(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.syncData();
</span></span></code></pre>

      <button id="copy-button-411" class="copyButton" data-copy="  using file = await Deno.open(&quot;/foo/bar.txt&quot;, { read: true, write: true });

  await file.write(new TextEncoder().encode(&quot;Hello, world!&quot;));
- await Deno.fdatasync(file.rid);
+ await file.syncData();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><ul>
<li><code>Deno.fdatasyncSync()</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.FsFile.prototype.syncDataSync"><code>Deno.FsFile.prototype.syncDataSync()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = Deno.openSync("/foo/bar.txt", { read: true, write: true });
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> file.writeSync(new TextEncoder().encode("Hello, world!"));
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.fdatasyncSync(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.syncDataSync();
</span></span></code></pre>

      <button id="copy-button-422" class="copyButton" data-copy="  using file = Deno.openSync(&quot;/foo/bar.txt&quot;, { read: true, write: true });

  file.writeSync(new TextEncoder().encode(&quot;Hello, world!&quot;));
- Deno.fdatasyncSync(file.rid);
+ file.syncDataSync();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><ul>
<li><code>Deno.File</code></li>
</ul>
<p>请改用 <a href="https://docs.deno.com/api/deno/~/Deno.FsFile"><code>Deno.FsFile</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(file: Deno.File) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(file: Deno.FsFile) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...
</span></span>}
</code></pre>

      <button id="copy-button-433" class="copyButton" data-copy="- function foo(file: Deno.File) {
+ function foo(file: Deno.FsFile) {
  // ...
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/13661">deno#13661</a>。</p>
<ul>
<li><code>Deno.flock()</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.FsFile.prototype.lock"><code>Deno.FsFile.prototype.lock()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.flock(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.lock();
</span></span></code></pre>

      <button id="copy-button-447" class="copyButton" data-copy="  using file = await Deno.open(&quot;/foo/bar.txt&quot;);

- await Deno.flock(file.rid);
+ await file.lock();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/22178">deno#22178</a>。</p>
<ul>
<li><code>Deno.flockSync()</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.FsFile.prototype.lockSync"><code>Deno.FsFile.prototype.lockSync()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = Deno.openSync("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.flockSync(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.lockSync();
</span></span></code></pre>

      <button id="copy-button-461" class="copyButton" data-copy="  using file = Deno.openSync(&quot;/foo/bar.txt&quot;);

- Deno.flockSync(file.rid);
+ file.lockSync();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/22178">deno#22178</a>。</p>
<ul>
<li><code>Deno.FsFile.prototype.rid</code></li>
</ul>
<p>请改用 <a href="https://docs.deno.com/api/deno/~/Deno.FsFile"><code>Deno.FsFile</code></a> 实例方法。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.read(file.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.read(buffer);
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(file.rid, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.write(data);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.close();
</span></span></code></pre>

      <button id="copy-button-475" class="copyButton" data-copy="  const file = await Deno.open(&quot;/foo/bar.txt&quot;);

  const buffer = new Uint8Array(1_024);
- await Deno.read(file.rid, buffer);
+ await file.read(buffer);

  const data = new TextEncoder().encode(&quot;Hello, world!&quot;);
- await Deno.write(file.rid, data);
+ await file.write(data);

- Deno.close(file.rid);
+ file.close();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><ul>
<li><code>Deno.fstatSync()</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.FsFile.prototype.statSync"><code>Deno.FsFile.prototype.statSync()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = Deno.openSync("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const fileInfo = Deno.fstatSync(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const fileInfo = file.statSync();
</span></span></code></pre>

      <button id="copy-button-486" class="copyButton" data-copy="  using file = Deno.openSync(&quot;/foo/bar.txt&quot;);

- const fileInfo = Deno.fstatSync(file.rid);
+ const fileInfo = file.statSync();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.fstat()</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.FsFile.prototype.stat"><code>Deno.FsFile.prototype.stat()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const fileInfo = await Deno.fstat(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const fileInfo = await file.stat();
</span></span></code></pre>

      <button id="copy-button-500" class="copyButton" data-copy="  using file = await Deno.open(&quot;/foo/bar.txt&quot;);

- const fileInfo = await Deno.fstat(file.rid);
+ const fileInfo = await file.stat();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.FsWatcher.prototype.rid</code></li>
</ul>
<p>请改用 <a href="https://docs.deno.com/api/deno/~/Deno.FsWatcher"><code>Deno.FsWatcher</code></a> 实例方法。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using watcher = Deno.watchFs("/dir");
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(watcher.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> watcher.close();
</span></span></code></pre>

      <button id="copy-button-514" class="copyButton" data-copy="  using watcher = Deno.watchFs(&quot;/dir&quot;);

  // ...

- Deno.close(watcher.rid);
+ watcher.close();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.fsync()</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.FsFile.prototype.sync"><code>Deno.FsFile.prototype.sync()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = await Deno.open("/foo/bar.txt", { read: true, write: true });
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> await file.write(new TextEncoder().encode("Hello, world!"));
</span><span class="token prefix unchanged"> </span><span class="token line"> await file.truncate(1);
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.fsync(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.sync();
</span></span></code></pre>

      <button id="copy-button-528" class="copyButton" data-copy="  using file = await Deno.open(&quot;/foo/bar.txt&quot;, { read: true, write: true });

  await file.write(new TextEncoder().encode(&quot;Hello, world!&quot;));
  await file.truncate(1);
- await Deno.fsync(file.rid);
+ await file.sync();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><ul>
<li><code>Deno.fsyncSync()</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.FsFile.prototype.syncSync"><code>Deno.FsFile.prototype.syncSync()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = Deno.openSync("/foo/bar.txt", { read: true, write: true });
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> file.writeSync(new TextEncoder().encode("Hello, world!"));
</span><span class="token prefix unchanged"> </span><span class="token line"> file.truncateSync(1);
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.fsyncSync(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.syncSync();
</span></span></code></pre>

      <button id="copy-button-539" class="copyButton" data-copy="  using file = Deno.openSync(&quot;/foo/bar.txt&quot;, { read: true, write: true });

  file.writeSync(new TextEncoder().encode(&quot;Hello, world!&quot;));
  file.truncateSync(1);
- Deno.fsyncSync(file.rid);
+ file.syncSync();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><ul>
<li><code>Deno.ftruncateSync()</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.FsFile.prototype.truncateSync"><code>Deno.FsFile.prototype.truncateSync()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = Deno.openSync("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.ftruncateSync(file.rid, 7);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.truncateSync(7);
</span></span></code></pre>

      <button id="copy-button-550" class="copyButton" data-copy="  using file = Deno.openSync(&quot;/foo/bar.txt&quot;);

- Deno.ftruncateSync(file.rid, 7);
+ file.truncateSync(7);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.ftruncate()</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.FsFile.prototype.truncate"><code>Deno.FsFile.prototype.truncate()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.ftruncate(file.rid, 7);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.truncate(7);
</span></span></code></pre>

      <button id="copy-button-564" class="copyButton" data-copy="  using file = await Deno.open(&quot;/foo/bar.txt&quot;);

- await Deno.ftruncate(file.rid, 7);
+ await file.truncate(7);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.funlock()</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.FsFile.prototype.unlock"><code>Deno.FsFile.prototype.unlock()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.funlock(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.unlock();
</span></span></code></pre>

      <button id="copy-button-578" class="copyButton" data-copy="  using file = await Deno.open(&quot;/foo/bar.txt&quot;);

- await Deno.funlock(file.rid);
+ await file.unlock();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/22178">deno#22178</a>。</p>
<ul>
<li><code>Deno.funlockSync()</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.FsFile.prototype.unlockSync"><code>Deno.FsFile.prototype.unlockSync()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = Deno.openSync("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.funlockSync(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.unlockSync();
</span></span></code></pre>

      <button id="copy-button-592" class="copyButton" data-copy="  using file = Deno.openSync(&quot;/foo/bar.txt&quot;);

- Deno.funlockSync(file.rid);
+ file.unlockSync();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/22178">deno#22178</a>。</p>
<ul>
<li><code>Deno.futimeSync()</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.FsFile.prototype.utimeSync"><code>Deno.FsFile.prototype.utimeSync()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = Deno.openSync("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.futimeSync(file.rid, 1556495550, new Date());
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.utimeSync(1556495550, new Date());
</span></span></code></pre>

      <button id="copy-button-606" class="copyButton" data-copy="  using file = Deno.openSync(&quot;/foo/bar.txt&quot;);

- Deno.futimeSync(file.rid, 1556495550, new Date());
+ file.utimeSync(1556495550, new Date());
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.futime()</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.FsFile.prototype.utime"><code>Deno.FsFile.prototype.utime()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.futime(file.rid, 1556495550, new Date());
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.utime(1556495550, new Date());
</span></span></code></pre>

      <button id="copy-button-620" class="copyButton" data-copy="  using file = await Deno.open(&quot;/foo/bar.txt&quot;);

- await Deno.futime(file.rid, 1556495550, new Date());
+ await file.utime(1556495550, new Date());
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.isatty()</code></li>
</ul>
<p>请改用 <code>Deno.FsFile.prototype.isTerminal()</code>、<code>Deno.stdin.prototype.isTerminal()</code>、
<code>Deno.stdout.prototype.isTerminal()</code> 或 <code>Deno.stderr.prototype.isTerminal()</code>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = await Deno.open("/dev/tty6");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.isatty(file.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.isTerminal();
</span></span></code></pre>

      <button id="copy-button-634" class="copyButton" data-copy="  using file = await Deno.open(&quot;/dev/tty6&quot;);

- Deno.isatty(file.rid);
+ file.isTerminal();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.isatty(Deno.stdin.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Deno.stdin.isTerminal();
</span></span></code></pre>

      <button id="copy-button-635" class="copyButton" data-copy="- Deno.isatty(Deno.stdin.rid);
+ Deno.stdin.isTerminal();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.isatty(Deno.stdout.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Deno.stdout.isTerminal();
</span></span></code></pre>

      <button id="copy-button-636" class="copyButton" data-copy="- Deno.isatty(Deno.stdout.rid);
+ Deno.stdout.isTerminal();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.isatty(Deno.stderr.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Deno.stderr.isTerminal();
</span></span></code></pre>

      <button id="copy-button-637" class="copyButton" data-copy="- Deno.isatty(Deno.stderr.rid);
+ Deno.stderr.isTerminal();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.iter()</code></li>
</ul>
<p>请改用来自标准库的
<a href="https://jsr.io/@std/io/doc/iterate-reader/~/iterateReader"><code>iterateReader()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { iterateReader } from "jsr:@std/io/iterate-reader";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> for await (const chunk of Deno.iter(Deno.stdout)) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> for await (const chunk of iterateReader(Deno.stdout)) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...
</span></span>}
</code></pre>

      <button id="copy-button-651" class="copyButton" data-copy="+ import { iterateReader } from &quot;jsr:@std/io/iterate-reader&quot;;

- for await (const chunk of Deno.iter(Deno.stdout)) {
+ for await (const chunk of iterateReader(Deno.stdout)) {
  // ...
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { iterateReaderSync } from "jsr:@std/io/iterate-reader";
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> for await (const chunk of Deno.iter(file)) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> for await (const chunk of iterateReader(file)) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...
</span></span>}
</code></pre>

      <button id="copy-button-652" class="copyButton" data-copy="+ import { iterateReaderSync } from &quot;jsr:@std/io/iterate-reader&quot;;

  using file = await Deno.open(&quot;/foo/bar.txt&quot;);

- for await (const chunk of Deno.iter(file)) {
+ for await (const chunk of iterateReader(file)) {
  // ...
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
<ul>
<li><code>Deno.iterSync()</code></li>
</ul>
<p>请改用来自标准库的
<a href="https://jsr.io/@std/io/doc/iterate-reader/~/iterateReaderSync"><code>iterateReaderSync()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { iterateReaderSync } from "jsr:@std/io/iterate-reader";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> for (const chunk of Deno.iterSync(Deno.stdout)) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> for (const chunk of iterateReaderSync(Deno.stdout)) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...
</span></span>}
</code></pre>

      <button id="copy-button-666" class="copyButton" data-copy="+ import { iterateReaderSync } from &quot;jsr:@std/io/iterate-reader&quot;;

- for (const chunk of Deno.iterSync(Deno.stdout)) {
+ for (const chunk of iterateReaderSync(Deno.stdout)) {
  // ...
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { iterateReaderSync } from "jsr:@std/io/iterate-reader";
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> for (const chunk of Deno.iterSync(file)) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> for (const chunk of iterateReaderSync(file)) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...
</span></span>}
</code></pre>

      <button id="copy-button-667" class="copyButton" data-copy="+ import { iterateReaderSync } from &quot;jsr:@std/io/iterate-reader&quot;;

  using file = await Deno.open(&quot;/foo/bar.txt&quot;);

- for (const chunk of Deno.iterSync(file)) {
+ for (const chunk of iterateReaderSync(file)) {
  // ...
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
<ul>
<li><code>Deno.Listener.prototype.rid</code></li>
</ul>
<p>请改用 <a href="https://docs.deno.com/api/deno/~/Deno.Listener"><code>Deno.Listener</code></a> 实例方法。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const listener = Deno.listen({ port: 80 })
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(listener.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> listener.close();
</span></span></code></pre>

      <button id="copy-button-681" class="copyButton" data-copy="  const listener = Deno.listen({ port: 80 })

- Deno.close(listener.rid);
+ listener.close();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.ListenTlsOptions.certChain</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.ListenTlsOptions#property_cert"><code>cert</code></a>
选项。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff">using listener = Deno.listenTls({
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> port: 443,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> certChain: Deno.readTextFile("./server.crt"),
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> cert: Deno.readTextFile("./server.crt"),
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> key: Deno.readTextFileSync("./server.key"),
</span></span>});
</code></pre>

      <button id="copy-button-695" class="copyButton" data-copy="using listener = Deno.listenTls({
  port: 443,
- certChain: Deno.readTextFile(&quot;./server.crt&quot;),
+ cert: Deno.readTextFile(&quot;./server.crt&quot;),
  key: Deno.readTextFileSync(&quot;./server.key&quot;),
});
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><ul>
<li><code>Deno.ListenTlsOptions.certFile</code></li>
</ul>
<p>将证书文件内容传递给
<a href="https://docs.deno.com/api/deno/~/Deno.ListenTlsOptions#property_cert"><code>cert</code></a>
选项。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff">using listener = Deno.listenTls({
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> port: 443,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> certFile: "./server.crt",
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> cert: Deno.readTextFile("./server.crt"),
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> key: Deno.readTextFileSync("./server.key"),
</span></span>});
</code></pre>

      <button id="copy-button-706" class="copyButton" data-copy="using listener = Deno.listenTls({
  port: 443,
- certFile: &quot;./server.crt&quot;,
+ cert: Deno.readTextFile(&quot;./server.crt&quot;),
  key: Deno.readTextFileSync(&quot;./server.key&quot;),
});
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/12639">deno#12639</a>。</p>
<ul>
<li><code>Deno.ListenTlsOptions.keyFile</code></li>
</ul>
<p>将密钥文件内容传递给
<a href="https://docs.deno.com/api/deno/~/Deno.ListenTlsOptions#property_key"><code>key</code></a>
选项。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff">using listener = Deno.listenTls({
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> port: 443,
</span><span class="token prefix unchanged"> </span><span class="token line"> cert: Deno.readTextFile("./server.crt"),
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> keyFile: "./server.key",
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> key: Deno.readTextFileSync("./server.key"),
</span></span>});
</code></pre>

      <button id="copy-button-720" class="copyButton" data-copy="using listener = Deno.listenTls({
  port: 443,
  cert: Deno.readTextFile(&quot;./server.crt&quot;),
- keyFile: &quot;./server.key&quot;,
+ key: Deno.readTextFileSync(&quot;./server.key&quot;),
});
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/12639">deno#12639</a>。</p>
<ul>
<li><code>Deno.metrics()</code></li>
</ul>
<p>此符号没有替代 API。</p>
<ul>
<li><code>Deno.readAllSync()</code></li>
</ul>
<p>请改用来自标准库的 <a href="https://jsr.io/@std/io/doc/read-all/~/readAllSync"><code>readAllSync()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { readAllSync } from "jsr:@std/io/read-all";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const data = Deno.readAllSync(Deno.stdin);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const data = readAllSync(Deno.stdin);
</span></span></code></pre>

      <button id="copy-button-744" class="copyButton" data-copy="+ import { readAllSync } from &quot;jsr:@std/io/read-all&quot;;

- const data = Deno.readAllSync(Deno.stdin);
+ const data = readAllSync(Deno.stdin);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { readAllSync } from "jsr:@std/io/read-all";
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = Deno.openSync("/foo/bar.txt", { read: true });
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const data = Deno.readAllSync(file);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const data = readAllSync(file);
</span></span></code></pre>

      <button id="copy-button-745" class="copyButton" data-copy="+ import { readAllSync } from &quot;jsr:@std/io/read-all&quot;;

  using file = Deno.openSync(&quot;/foo/bar.txt&quot;, { read: true });

- const data = Deno.readAllSync(file);
+ const data = readAllSync(file);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
<ul>
<li><code>Deno.readAll()</code></li>
</ul>
<p>请改用来自标准库的 <a href="https://jsr.io/@std/io/doc/read-all/~/readAll"><code>readAll()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { readAll } from "jsr:@std/io/read-all";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const data = await Deno.readAll(Deno.stdin);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const data = await readAll(Deno.stdin);
</span></span></code></pre>

      <button id="copy-button-759" class="copyButton" data-copy="+ import { readAll } from &quot;jsr:@std/io/read-all&quot;;

- const data = await Deno.readAll(Deno.stdin);
+ const data = await readAll(Deno.stdin);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { readAll } from "jsr:@std/io/read-all";
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = await Deno.open("/foo/bar.txt", { read: true });
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const data = await Deno.readAll(file);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const data = await readAll(file);
</span></span></code></pre>

      <button id="copy-button-760" class="copyButton" data-copy="+ import { readAll } from &quot;jsr:@std/io/read-all&quot;;

  using file = await Deno.open(&quot;/foo/bar.txt&quot;, { read: true });

- const data = await Deno.readAll(file);
+ const data = await readAll(file);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
<ul>
<li><code>Deno.Reader</code></li>
</ul>
<p>请改用来自标准库的 <a href="https://jsr.io/@std/io/doc/~/Reader"><code>Reader</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import type { Reader } from "jsr:@std/io/types";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(closer: Deno.Reader) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(closer: Reader) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...  
</span></span>}
</code></pre>

      <button id="copy-button-774" class="copyButton" data-copy="+ import type { Reader } from &quot;jsr:@std/io/types&quot;;

- function foo(closer: Deno.Reader) {
+ function foo(closer: Reader) {
  // ...  
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
<ul>
<li><code>Deno.ReaderSync</code></li>
</ul>
<p>请改用来自标准库的 <a href="https://jsr.io/@std/io/doc/~/ReaderSync"><code>ReaderSync</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import type { ReaderSync } from "jsr:@std/io/types";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(reader: Deno.ReaderSync) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(reader: ReaderSync) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...  
</span></span>}
</code></pre>

      <button id="copy-button-788" class="copyButton" data-copy="+ import type { ReaderSync } from &quot;jsr:@std/io/types&quot;;

- function foo(reader: Deno.ReaderSync) {
+ function foo(reader: ReaderSync) {
  // ...  
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
<ul>
<li><code>Deno.readSync()</code></li>
</ul>
<p>请改用资源的 <code>.readSync()</code> 方法。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using conn = await Deno.connect({ port: 80 });
</span><span class="token prefix unchanged"> </span><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.readSync(conn.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> conn.readSync(buffer);
</span></span></code></pre>

      <button id="copy-button-802" class="copyButton" data-copy="  using conn = await Deno.connect({ port: 80 });
  const buffer = new Uint8Array(1_024);

- Deno.readSync(conn.rid, buffer);
+ conn.readSync(buffer);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = Deno.openSync("/foo/bar.txt");
</span><span class="token prefix unchanged"> </span><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.readSync(file.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.readSync(buffer);
</span></span></code></pre>

      <button id="copy-button-803" class="copyButton" data-copy="  using file = Deno.openSync(&quot;/foo/bar.txt&quot;);
  const buffer = new Uint8Array(1_024);

- Deno.readSync(file.rid, buffer);
+ file.readSync(buffer);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
<ul>
<li><code>Deno.read()</code></li>
</ul>
<p>请改用资源的 <code>.read()</code> 方法。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using conn = await Deno.connect({ port: 80 });
</span><span class="token prefix unchanged"> </span><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.read(conn.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await conn.read(buffer);
</span></span></code></pre>

      <button id="copy-button-817" class="copyButton" data-copy="  using conn = await Deno.connect({ port: 80 });
  const buffer = new Uint8Array(1_024);

- await Deno.read(conn.rid, buffer);
+ await conn.read(buffer);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span><span class="token prefix unchanged"> </span><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.read(file.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.read(buffer);
</span></span></code></pre>

      <button id="copy-button-818" class="copyButton" data-copy="  using file = await Deno.open(&quot;/foo/bar.txt&quot;);
  const buffer = new Uint8Array(1_024);

- await Deno.read(file.rid, buffer);
+ await file.read(buffer);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
<ul>
<li><code>Deno.resources()</code></li>
</ul>
<p>此符号没有替代 API，因为资源 ID（RID）正在逐渐被淘汰。</p>
<ul>
<li><code>Deno.run()</code></li>
</ul>
<p>请改用 <a href="https://docs.deno.com/api/deno/~/Deno.Command"><code>new Deno.Command()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const process = Deno.run({ cmd: [ "echo", "hello world" ], stdout: "piped" });
</span><span class="token prefix deleted">-</span><span class="token line"> const [{ success }, stdout] = await Promise.all([
</span><span class="token prefix deleted">-</span><span class="token line">   process.status(),
</span><span class="token prefix deleted">-</span><span class="token line">   process.output(),
</span><span class="token prefix deleted">-</span><span class="token line"> ]);
</span><span class="token prefix deleted">-</span><span class="token line"> process.close();
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const command = new Deno.Command("echo", {
</span><span class="token prefix inserted">+</span><span class="token line">   args: ["hello world"]
</span><span class="token prefix inserted">+</span><span class="token line"> });
</span><span class="token prefix inserted">+</span><span class="token line"> const { success, stdout } = await command.output();
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> console.log(success);
</span><span class="token prefix unchanged"> </span><span class="token line"> console.log(new TextDecoder().decode(stdout));
</span></span></code></pre>

      <button id="copy-button-842" class="copyButton" data-copy="- const process = Deno.run({ cmd: [ &quot;echo&quot;, &quot;hello world&quot; ], stdout: &quot;piped&quot; });
- const [{ success }, stdout] = await Promise.all([
-   process.status(),
-   process.output(),
- ]);
- process.close();
+ const command = new Deno.Command(&quot;echo&quot;, {
+   args: [&quot;hello world&quot;]
+ });
+ const { success, stdout } = await command.output();
  console.log(success);
  console.log(new TextDecoder().decode(stdout));
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>注意：这个符号在 Deno 2 中被软删除。它的类型已被删除，但其实现仍然存在以减少断裂性变化。你可以通过使用
<a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-6.html#suppress-errors-in-ts-files-using--ts-ignore-comments"><code>@ts-ignore</code></a>
指令来忽略 “属性不存在” 的 TypeScript 错误。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> // @ts-ignore `Deno.run()` is soft-removed as of Deno 2.
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const process = Deno.run({ cmd: [ "echo", "hello world" ], stdout: "piped" });
</span><span class="token prefix unchanged"> </span><span class="token line"> const [{ success }, stdout] = await Promise.all([
</span><span class="token prefix unchanged"> </span><span class="token line">   process.status(),
</span><span class="token prefix unchanged"> </span><span class="token line">   process.output(),
</span><span class="token prefix unchanged"> </span><span class="token line"> ]);
</span><span class="token prefix unchanged"> </span><span class="token line"> process.close();
</span><span class="token prefix unchanged"> </span><span class="token line"> console.log(success);
</span><span class="token prefix unchanged"> </span><span class="token line"> console.log(new TextDecoder().decode(stdout));
</span></span></code></pre>

      <button id="copy-button-846" class="copyButton" data-copy="+ // @ts-ignore `Deno.run()` is soft-removed as of Deno 2.
  const process = Deno.run({ cmd: [ &quot;echo&quot;, &quot;hello world&quot; ], stdout: &quot;piped&quot; });
  const [{ success }, stdout] = await Promise.all([
    process.status(),
    process.output(),
  ]);
  process.close();
  console.log(success);
  console.log(new TextDecoder().decode(stdout));
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/pull/16516">deno#16516</a>。</p>
<ul>
<li><code>Deno.Seeker</code></li>
</ul>
<p>请改用来自标准库的 <a href="https://jsr.io/@std/io/doc/types/~/Seeker"><code>Seeker</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import type { Seeker } from "jsr:@std/io/types";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(seeker: Deno.Seeker) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(seeker: Seeker) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...  
</span></span>}
</code></pre>

      <button id="copy-button-860" class="copyButton" data-copy="+ import type { Seeker } from &quot;jsr:@std/io/types&quot;;

- function foo(seeker: Deno.Seeker) {
+ function foo(seeker: Seeker) {
  // ...  
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><ul>
<li><code>Deno.SeekerSync</code></li>
</ul>
<p>请改用来自标准库的 <a href="https://jsr.io/@std/io/doc/types/~/SeekerSync"><code>SeekerSync</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import type { SeekerSync } from "jsr:@std/io/types";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(seeker: Deno.SeekerSync) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(seeker: SeekerSync) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...  
</span></span>}
</code></pre>

      <button id="copy-button-871" class="copyButton" data-copy="+ import type { SeekerSync } from &quot;jsr:@std/io/types&quot;;

- function foo(seeker: Deno.SeekerSync) {
+ function foo(seeker: SeekerSync) {
  // ...  
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><ul>
<li><code>Deno.seekSync()</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.FsFile.prototype.seekSync"><code>Deno.FsFile.prototype.seekSync()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.seekSync(file.rid, 6, Deno.SeekMode.Start);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.seekSync(6, Deno.SeekMode.Start);
</span></span></code></pre>

      <button id="copy-button-882" class="copyButton" data-copy="  using file = await Deno.open(&quot;/foo/bar.txt&quot;);

- Deno.seekSync(file.rid, 6, Deno.SeekMode.Start);
+ file.seekSync(6, Deno.SeekMode.Start);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.seek()</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.FsFile.prototype.seek"><code>Deno.FsFile.prototype.seek()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.seek(file.rid, 6, Deno.SeekMode.Start);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.seek(6, Deno.SeekMode.Start);
</span></span></code></pre>

      <button id="copy-button-896" class="copyButton" data-copy="  using file = await Deno.open(&quot;/foo/bar.txt&quot;);

- await Deno.seek(file.rid, 6, Deno.SeekMode.Start);
+ await file.seek(6, Deno.SeekMode.Start);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.serveHttp()</code></li>
</ul>
<p>请改用 <a href="https://docs.deno.com/api/deno/~/Deno.serve"><code>Deno.serve()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const conn = Deno.listen({ port: 80 });
</span><span class="token prefix deleted">-</span><span class="token line"> const httpConn = Deno.serveHttp(await conn.accept());
</span><span class="token prefix deleted">-</span><span class="token line"> const e = await httpConn.nextRequest();
</span><span class="token prefix deleted">-</span><span class="token line"> if (e) {
</span><span class="token prefix deleted">-</span><span class="token line">  e.respondWith(new Response("Hello World"));
</span><span class="token prefix deleted">-</span><span class="token line"> }
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Deno.serve({ port: 80 }, () => new Response("Hello World"));
</span></span></code></pre>

      <button id="copy-button-910" class="copyButton" data-copy="- const conn = Deno.listen({ port: 80 });
- const httpConn = Deno.serveHttp(await conn.accept());
- const e = await httpConn.nextRequest();
- if (e) {
-  e.respondWith(new Response(&quot;Hello World&quot;));
- }
+ Deno.serve({ port: 80 }, () => new Response(&quot;Hello World&quot;));
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>注意：这个符号在 Deno 2 中被软删除。它的类型已被删除，但其实现仍然存在以减少断裂性变化。你可以通过使用
<a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-6.html#suppress-errors-in-ts-files-using--ts-ignore-comments"><code>@ts-ignore</code></a>
指令来忽略 “属性不存在” 的 TypeScript 错误。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const conn = Deno.listen({ port: 80 });
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> // @ts-ignore `Deno.serveHttp()` is soft-removed as of Deno 2.
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const httpConn = Deno.serveHttp(await conn.accept());
</span><span class="token prefix unchanged"> </span><span class="token line"> const e = await httpConn.nextRequest();
</span><span class="token prefix unchanged"> </span><span class="token line"> if (e) {
</span><span class="token prefix unchanged"> </span><span class="token line">  e.respondWith(new Response("Hello World"));
</span><span class="token prefix unchanged"> </span><span class="token line"> }
</span></span></code></pre>

      <button id="copy-button-914" class="copyButton" data-copy="  const conn = Deno.listen({ port: 80 });
+ // @ts-ignore `Deno.serveHttp()` is soft-removed as of Deno 2.
  const httpConn = Deno.serveHttp(await conn.accept());
  const e = await httpConn.nextRequest();
  if (e) {
   e.respondWith(new Response(&quot;Hello World&quot;));
  }
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参见
<a href="https://deno.com/blog/v1.35#denoserve-is-now-stable">Deno 1.35 博客文章</a>。</p>
<ul>
<li><code>Deno.Server</code></li>
</ul>
<p>请改用 <a href="https://docs.deno.com/api/deno/~/Deno.HttpServer"><code>Deno.HttpServer</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(server: Deno.Server) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(server: Deno.HttpServer) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...  
</span></span>}
</code></pre>

      <button id="copy-button-928" class="copyButton" data-copy="- function foo(server: Deno.Server) {
+ function foo(server: Deno.HttpServer) {
  // ...  
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/20840">deno#20840</a>。</p>
<ul>
<li><code>Deno.shutdown()</code></li>
</ul>
<p>请改用
<a href="https://docs.deno.com/api/deno/~/Deno.Conn#method_closeWrite_0"><code>Deno.Conn.closeWrite()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using conn = await Deno.connect({ port: 80 });
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.shutdown(conn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await conn.closeWrite();
</span></span></code></pre>

      <button id="copy-button-942" class="copyButton" data-copy="  using conn = await Deno.connect({ port: 80 });

- await Deno.shutdown(conn.rid);
+ await conn.closeWrite();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参见 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.stderr.prototype.rid</code></li>
</ul>
<p>请改用 <a href="https://docs.deno.com/api/deno/~/Deno.stderr"><code>Deno.stderr</code></a> 实例方法。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> if (Deno.isatty(Deno.stderr.rid)) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> if (Deno.stderr.isTerminal()) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   console.log("`Deno.stderr` is a terminal");
</span><span class="token prefix unchanged"> </span><span class="token line"> }
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(Deno.stderr.rid, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await Deno.stderr.write(data);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(Deno.stderr.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Deno.stderr.close();
</span></span></code></pre>

      <button id="copy-button-956" class="copyButton" data-copy="- if (Deno.isatty(Deno.stderr.rid)) {
+ if (Deno.stderr.isTerminal()) {
    console.log(&quot;`Deno.stderr` is a terminal&quot;);
  }

  const data = new TextEncoder().encode(&quot;Hello, world!&quot;);
- await Deno.write(Deno.stderr.rid, data);
+ await Deno.stderr.write(data);

- Deno.close(Deno.stderr.rid);
+ Deno.stderr.close();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>注意：这个符号在 Deno 2 中被软删除。它的类型已被删除，但其实现仍然存在以减少断裂性变化。你可以通过使用
<a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-6.html#suppress-errors-in-ts-files-using--ts-ignore-comments"><code>@ts-ignore</code></a>
指令来忽略 “属性不存在” 的 TypeScript 错误。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> // @ts-ignore `Deno.stderr.rid` is soft-removed as of Deno 2.
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> Deno.isatty(Deno.stderr.rid);
</span></span></code></pre>

      <button id="copy-button-960" class="copyButton" data-copy="+ // @ts-ignore `Deno.stderr.rid` is soft-removed as of Deno 2.
  Deno.isatty(Deno.stderr.rid);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参见 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.stdin.prototype.rid</code></li>
</ul>
<p>请改用 <a href="https://docs.deno.com/api/deno/~/Deno.stdin"><code>Deno.stdin</code></a> 实例方法。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> if (Deno.isatty(Deno.stdin.rid)) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> if (Deno.stdin.isTerminal()) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   console.log("`Deno.stdout` is a terminal");
</span><span class="token prefix unchanged"> </span><span class="token line"> }
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(Deno.stdin.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await Deno.stdin.write(buffer);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(Deno.stdin.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Deno.stdin.close();
</span></span></code></pre>

      <button id="copy-button-974" class="copyButton" data-copy="- if (Deno.isatty(Deno.stdin.rid)) {
+ if (Deno.stdin.isTerminal()) {
    console.log(&quot;`Deno.stdout` is a terminal&quot;);
  }

  const buffer = new Uint8Array(1_024);
- await Deno.write(Deno.stdin.rid, buffer);
+ await Deno.stdin.write(buffer);

- Deno.close(Deno.stdin.rid);
+ Deno.stdin.close();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>注意：这个符号在 Deno 2 中被软删除。它的类型已被删除，但其实现仍然存在以减少断裂性变化。你可以通过使用
<a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-6.html#suppress-errors-in-ts-files-using--ts-ignore-comments"><code>@ts-ignore</code></a>
指令来忽略 “属性不存在” 的 TypeScript 错误。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> // @ts-ignore `Deno.stdin.rid` is soft-removed as of Deno 2.
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> Deno.isatty(Deno.stdin.rid);
</span></span></code></pre>

      <button id="copy-button-978" class="copyButton" data-copy="+ // @ts-ignore `Deno.stdin.rid` is soft-removed as of Deno 2.
  Deno.isatty(Deno.stdin.rid);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参见 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.stdout.prototype.rid</code></li>
</ul>
<p>请改用 <a href="https://docs.deno.com/api/deno/~/Deno.stdout"><code>Deno.stdout</code></a> 实例方法。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> if (Deno.isatty(Deno.stdout.rid)) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> if (Deno.stdout.isTerminal()) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   console.log("`Deno.stdout` is a terminal");
</span><span class="token prefix unchanged"> </span><span class="token line"> }
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(Deno.stdout.rid, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await Deno.stdout.write(data);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(Deno.stdout.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Deno.stdout.close();
</span></span></code></pre>

      <button id="copy-button-992" class="copyButton" data-copy="- if (Deno.isatty(Deno.stdout.rid)) {
+ if (Deno.stdout.isTerminal()) {
    console.log(&quot;`Deno.stdout` is a terminal&quot;);
  }

  const data = new TextEncoder().encode(&quot;Hello, world!&quot;);
- await Deno.write(Deno.stdout.rid, data);
+ await Deno.stdout.write(data);

- Deno.close(Deno.stdout.rid);
+ Deno.stdout.close();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>注意：这个符号在 Deno 2 中被软删除。它的类型已被删除，但其实现仍然存在以减少断裂性变化。你可以通过使用
<a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-6.html#suppress-errors-in-ts-files-using--ts-ignore-comments"><code>@ts-ignore</code></a>
指令来忽略 “属性不存在” 的 TypeScript 错误。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> // @ts-ignore `Deno.stdout.rid` is soft-removed as of Deno 2.
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> Deno.isatty(Deno.stdout.rid);
</span></span></code></pre>

      <button id="copy-button-996" class="copyButton" data-copy="+ // @ts-ignore `Deno.stdout.rid` is soft-removed as of Deno 2.
  Deno.isatty(Deno.stdout.rid);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参见 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.TcpConn.prototype.rid</code></li>
</ul>
<p>请改用 <a href="https://docs.deno.com/api/deno/~/Deno.TcpConn"><code>Deno.TcpConn</code></a> 实例方法。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using tcpConn = await Deno.connect({ port: 80 });
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.read(tcpConn.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await tcpConn.read(buffer);
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(tcpConn.rid, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await tcpConn.write(data);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.shutdown(tcpConn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await tcpConn.closeWrite();
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(tcpConn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> tcpConn.close();
</span></span></code></pre>

      <button id="copy-button-1010" class="copyButton" data-copy="  using tcpConn = await Deno.connect({ port: 80 });

  const buffer = new Uint8Array(1_024);
- await Deno.read(tcpConn.rid, buffer);
+ await tcpConn.read(buffer);

  const data = new TextEncoder().encode(&quot;Hello, world!&quot;);
- await Deno.write(tcpConn.rid, data);
+ await tcpConn.write(data);

- await Deno.shutdown(tcpConn.rid);
+ await tcpConn.closeWrite();

- Deno.close(tcpConn.rid);
+ tcpConn.close();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参见 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.TlsConn.prototype.rid</code></li>
</ul>
<p>请改用 <a href="https://docs.deno.com/api/deno/~/Deno.TlsConn"><code>Deno.TlsConn</code></a> 实例方法。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const caCert = await Deno.readTextFile("./certs/my_custom_root_CA.pem");
</span><span class="token prefix unchanged"> </span><span class="token line"> using tlsConn = await Deno.connectTls({ caCerts: [caCert], hostname: "192.0.2.1", port: 80 });
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.read(tlsConn.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await tlsConn.read(buffer);
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(tlsConn.rid, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await tlsConn.write(data);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.shutdown(tlsConn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await tlsConn.closeWrite();
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(tlsConn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> tlsConn.close();
</span></span></code></pre>

      <button id="copy-button-1024" class="copyButton" data-copy="  const caCert = await Deno.readTextFile(&quot;./certs/my_custom_root_CA.pem&quot;);
  using tlsConn = await Deno.connectTls({ caCerts: [caCert], hostname: &quot;192.0.2.1&quot;, port: 80 });

  const buffer = new Uint8Array(1_024);
- await Deno.read(tlsConn.rid, buffer);
+ await tlsConn.read(buffer);

  const data = new TextEncoder().encode(&quot;Hello, world!&quot;);
- await Deno.write(tlsConn.rid, data);
+ await tlsConn.write(data);

- await Deno.shutdown(tlsConn.rid);
+ await tlsConn.closeWrite();

- Deno.close(tlsConn.rid);
+ tlsConn.close();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参见 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.TlsListener.prototype.rid</code></li>
</ul>
<p>请改用 <a href="https://docs.deno.com/api/deno/~/Deno.TlsListener"><code>Deno.TlsListener</code></a>
实例方法。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const listener = Deno.listenTls({
</span><span class="token prefix unchanged"> </span><span class="token line">   port: 443,
</span><span class="token prefix unchanged"> </span><span class="token line">   cert: Deno.readTextFileSync("./server.crt"),
</span><span class="token prefix unchanged"> </span><span class="token line">   key: Deno.readTextFileSync("./server.key"),
</span><span class="token prefix unchanged"> </span><span class="token line"> });
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(listener.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> listener.close();
</span></span></code></pre>

      <button id="copy-button-1038" class="copyButton" data-copy="  const listener = Deno.listenTls({
    port: 443,
    cert: Deno.readTextFileSync(&quot;./server.crt&quot;),
    key: Deno.readTextFileSync(&quot;./server.key&quot;),
  });

  // ...

- Deno.close(listener.rid);
+ listener.close();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参见 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.UnixConn.prototype.rid</code></li>
</ul>
<p>请改用 <a href="https://docs.deno.com/api/deno/~/Deno.UnixConn"><code>Deno.UnixConn</code></a> 实例方法。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using unixConn = await Deno.connect({ path: "/foo/bar.sock", transport: "unix" });
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const buffer = new Uint8Array(1_024);
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.read(unixConn.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await unixConn.read(buffer);
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(unixConn.rid, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await unixConn.write(data);
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.shutdown(unixConn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await unixConn.closeWrite();
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.close(unixConn.rid);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> unixConn.close();
</span></span></code></pre>

      <button id="copy-button-1052" class="copyButton" data-copy="  using unixConn = await Deno.connect({ path: &quot;/foo/bar.sock&quot;, transport: &quot;unix&quot; });

  const buffer = new Uint8Array(1_024);
- await Deno.read(unixConn.rid, buffer);
+ await unixConn.read(buffer);

  const data = new TextEncoder().encode(&quot;Hello, world!&quot;);
- await Deno.write(unixConn.rid, data);
+ await unixConn.write(data);

- await Deno.shutdown(unixConn.rid);
+ await unixConn.closeWrite();

- Deno.close(unixConn.rid);
+ unixConn.close();
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参见 <a href="https://deno.com/blog/v1.40#deprecations-stabilizations-and-removals">Deno 1.40 博客文章</a>。</p>
<ul>
<li><code>Deno.writeAllSync()</code></li>
</ul>
<p>请改用来自标准库的 <a href="https://jsr.io/@std/io/doc/~/writeAllSync"><code>writeAllSync()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { writeAllSync } from "jsr:@std/io/write-all";
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.writeAllSync(Deno.stdout, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> writeAllSync(Deno.stdout, data);
</span></span></code></pre>

      <button id="copy-button-1066" class="copyButton" data-copy="+ import { writeAllSync } from &quot;jsr:@std/io/write-all&quot;;

  const data = new TextEncoder().encode(&quot;Hello, world!&quot;);

- Deno.writeAllSync(Deno.stdout, data);
+ writeAllSync(Deno.stdout, data);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
<ul>
<li><code>Deno.writeAll()</code></li>
</ul>
<p>请改用来自标准库的 <a href="https://jsr.io/@std/io/doc/~/writeAll"><code>writeAll()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import { writeAll } from "jsr:@std/io/write-all";
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const data = new TextEncoder().encode("Hello, world!");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.writeAll(Deno.stdout, data);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await writeAll(Deno.stdout, data);
</span></span></code></pre>

      <button id="copy-button-1080" class="copyButton" data-copy="+ import { writeAll } from &quot;jsr:@std/io/write-all&quot;;

  const data = new TextEncoder().encode(&quot;Hello, world!&quot;);

- await Deno.writeAll(Deno.stdout, data);
+ await writeAll(Deno.stdout, data);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
<ul>
<li><code>Deno.Writer</code></li>
</ul>
<p>请改用来自标准库的 <a href="https://jsr.io/@std/io/doc/~/Writer">Writer</a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import type { Writer } from "jsr:@std/io/types";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(writer: Deno.Writer) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(writer: Writer) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...  
</span></span>}
</code></pre>

      <button id="copy-button-1094" class="copyButton" data-copy="+ import type { Writer } from &quot;jsr:@std/io/types&quot;;

- function foo(writer: Deno.Writer) {
+ function foo(writer: Writer) {
  // ...  
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
<ul>
<li><code>Deno.WriterSync</code></li>
</ul>
<p>请改用来自标准库的 <a href="https://jsr.io/@std/io/doc/~/WriterSync">WriterSync</a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import type { WriterSync } from "jsr:@std/io/types";
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> function foo(writer: Deno.WriterSync) {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> function foo(writer: WriterSync) {
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> // ...  
</span></span>}
</code></pre>

      <button id="copy-button-1108" class="copyButton" data-copy="+ import type { WriterSync } from &quot;jsr:@std/io/types&quot;;

- function foo(writer: Deno.WriterSync) {
+ function foo(writer: WriterSync) {
  // ...  
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
<ul>
<li><code>Deno.writeSync()</code></li>
</ul>
<p>请改用资源的 <code>.writeSync()</code> 方法。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using conn = await Deno.connect({ port: 80 });
</span><span class="token prefix unchanged"> </span><span class="token line"> const buffer = new TextEncoder().encode("My message");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.writeSync(conn.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> conn.writeSync(buffer);
</span></span></code></pre>

      <button id="copy-button-1122" class="copyButton" data-copy="  using conn = await Deno.connect({ port: 80 });
  const buffer = new TextEncoder().encode(&quot;My message&quot;);

- Deno.writeSync(conn.rid, buffer);
+ conn.writeSync(buffer);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = Deno.openSync("/foo/bar.txt", { write: true });
</span><span class="token prefix unchanged"> </span><span class="token line"> const buffer = new TextEncoder().encode("My message");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> Deno.writeSync(file.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> file.writeSync(buffer);
</span></span></code></pre>

      <button id="copy-button-1123" class="copyButton" data-copy="  using file = Deno.openSync(&quot;/foo/bar.txt&quot;, { write: true });
  const buffer = new TextEncoder().encode(&quot;My message&quot;);

- Deno.writeSync(file.rid, buffer);
+ file.writeSync(buffer);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
<ul>
<li><code>Deno.write()</code></li>
</ul>
<p>请改用资源的 <code>.write()</code> 方法。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using conn = await Deno.connect({ port: 80 });
</span><span class="token prefix unchanged"> </span><span class="token line"> const buffer = new TextEncoder().encode("My message");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(conn.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await conn.write(buffer);
</span></span></code></pre>

      <button id="copy-button-1137" class="copyButton" data-copy="  using conn = await Deno.connect({ port: 80 });
  const buffer = new TextEncoder().encode(&quot;My message&quot;);

- await Deno.write(conn.rid, buffer);
+ await conn.write(buffer);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> using file = await Deno.open("/foo/bar.txt", { write: true });
</span><span class="token prefix unchanged"> </span><span class="token line"> const buffer = new TextEncoder().encode("My message");
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> await Deno.write(file.rid, buffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> await file.write(buffer);
</span></span></code></pre>

      <button id="copy-button-1138" class="copyButton" data-copy="  using file = await Deno.open(&quot;/foo/bar.txt&quot;, { write: true });
  const buffer = new TextEncoder().encode(&quot;My message&quot;);

- await Deno.write(file.rid, buffer);
+ await file.write(buffer);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>有关详细信息，请参阅 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
<ul>
<li><code>new Deno.FsFile()</code></li>
</ul>
<p>请改用 <a href="https://docs.deno.com/api/deno/~/Deno.openSync"><code>Deno.openSync()</code></a> 或
<a href="https://docs.deno.com/api/deno/~/Deno.open"><code>Deno.open()</code></a>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const file = new Deno.FsFile(3);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> using file = await Deno.open("/foo/bar.txt");
</span></span></code></pre>

      <button id="copy-button-1152" class="copyButton" data-copy="- const file = new Deno.FsFile(3);
+ using file = await Deno.open(&quot;/foo/bar.txt&quot;);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><ul>
<li><code>window</code></li>
</ul>
<p>请改用 <code>globalThis</code>。</p>
<div class="relative"><pre><code class="highlight notranslate language-diff"><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> const messageBuffer = new TextEncoder().encode("Hello, world!");
</span><span class="token prefix unchanged"> </span><span class="token line"> 
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> const hashBuffer = await window.crypto.subtle.digest("SHA-256", messageBuffer);
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> const hashBuffer = await globalThis.crypto.subtle.digest("SHA-256", messageBuffer);
</span></span></code></pre>

      <button id="copy-button-1163" class="copyButton" data-copy="  const messageBuffer = new TextEncoder().encode(&quot;Hello, world!&quot;);
  
- const hashBuffer = await window.crypto.subtle.digest(&quot;SHA-256&quot;, messageBuffer);
+ const hashBuffer = await globalThis.crypto.subtle.digest(&quot;SHA-256&quot;, messageBuffer);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div><p>请参见 <a href="https://github.com/denoland/deno/issues/9795">deno#9795</a>。</p>
</div></div></article><section id="feedback-section" class="flex flex-col mt-12 gap-2 p-4 sm:p-8 bg-blue-splash dark:bg-deploy-900 rounded-md mx-auto"><h2 class="text-xl mb-2 pb-2 font-normal">你找到了你需要的东西吗？</h2><div class="flex flex-col sm:flex-row sm:flex-wrap gap-8"><div class="flex-1"><form aria-live="polite" id="feedback-form"><div id="feedback-form__content" class="grid grid-cols-1 transition-all duration-300 grid-rows-[max-content_0fr] w-full items-start gap-2 overflow-hidden"><div class="flex flex-wrap gap-2 items-center"><input class="sr-only" id="feedback-yes" type="radio" name="feedback-vote" aria-label="Yes" value="yes" required/><label class="btn" for="feedback-yes">是的<svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;"><path d="M8.834.066c.763.087 1.5.295 2.01.884.505.581.656 1.378.656 2.3 0 .467-.087 1.119-.157 1.637L11.328 5h1.422c.603 0 1.174.085 1.668.333.508.254.911.679 1.137 1.2.453.998.438 2.447.188 4.316l-.04.306c-.105.79-.195 1.473-.313 2.033-.131.63-.315 1.209-.668 1.672C13.97 15.847 12.706 16 11 16c-1.848 0-3.234-.333-4.388-.653-.165-.045-.323-.09-.475-.133-.658-.186-1.2-.34-1.725-.415A1.75 1.75 0 0 1 2.75 16h-1A1.75 1.75 0 0 1 0 14.25v-7.5C0 5.784.784 5 1.75 5h1a1.75 1.75 0 0 1 1.514.872c.258-.105.59-.268.918-.508C5.853 4.874 6.5 4.079 6.5 2.75v-.5c0-1.202.994-2.337 2.334-2.184ZM4.5 13.3c.705.088 1.39.284 2.072.478l.441.125c1.096.305 2.334.598 3.987.598 1.794 0 2.28-.223 2.528-.549.147-.193.276-.505.394-1.07.105-.502.188-1.124.295-1.93l.04-.3c.25-1.882.189-2.933-.068-3.497a.921.921 0 0 0-.442-.48c-.208-.104-.52-.174-.997-.174H11c-.686 0-1.295-.577-1.206-1.336.023-.192.05-.39.076-.586.065-.488.13-.97.13-1.328 0-.809-.144-1.15-.288-1.316-.137-.158-.402-.304-1.048-.378C8.357 1.521 8 1.793 8 2.25v.5c0 1.922-.978 3.128-1.933 3.825a5.831 5.831 0 0 1-1.567.81ZM2.75 6.5h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path></svg></label><input class="sr-only" id="feedback-no" type="radio" name="feedback-vote" aria-label="No" value="no" required/><label class="btn" for="feedback-no">没有<svg aria-hidden="true" focusable="false" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;"><path d="M7.083 15.986c-.763-.087-1.499-.295-2.011-.884-.504-.581-.655-1.378-.655-2.299 0-.468.087-1.12.157-1.638l.015-.112H3.167c-.603 0-1.174-.086-1.669-.334a2.415 2.415 0 0 1-1.136-1.2c-.454-.998-.438-2.447-.188-4.316l.04-.306C.32 4.108.41 3.424.526 2.864c.132-.63.316-1.209.669-1.672C1.947.205 3.211.053 4.917.053c1.848 0 3.234.332 4.388.652l.474.133c.658.187 1.201.341 1.726.415a1.75 1.75 0 0 1 1.662-1.2h1c.966 0 1.75.784 1.75 1.75v7.5a1.75 1.75 0 0 1-1.75 1.75h-1a1.75 1.75 0 0 1-1.514-.872c-.259.105-.59.268-.919.508-.671.491-1.317 1.285-1.317 2.614v.5c0 1.201-.994 2.336-2.334 2.183Zm4.334-13.232c-.706-.089-1.39-.284-2.072-.479l-.441-.125c-1.096-.304-2.335-.597-3.987-.597-1.794 0-2.28.222-2.529.548-.147.193-.275.505-.393 1.07-.105.502-.188 1.124-.295 1.93l-.04.3c-.25 1.882-.19 2.933.067 3.497a.923.923 0 0 0 .443.48c.208.104.52.175.997.175h1.75c.685 0 1.295.577 1.205 1.335-.022.192-.049.39-.075.586-.066.488-.13.97-.13 1.329 0 .808.144 1.15.288 1.316.137.157.401.303 1.048.377.307.035.664-.237.664-.693v-.5c0-1.922.978-3.127 1.932-3.825a5.878 5.878 0 0 1 1.568-.809Zm1.75 6.798h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25Z"></path></svg></label><a class="btn" target="_blank" href="https://github.com/zhcndoc/deno/edit/main/runtime/reference/migration_guide.md">编辑此页面<svg width="98" height="96" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;" viewBox="0 0 98 96"><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"></path></svg></a></div><div id="feedback-more" class="hidden w-full overflow-hidden"><p class="font-semibold !mt-2">我们可以做些什么来改善这个页面？</p><div class="space-y-1"><textarea class="block w-full p-2 border border-foreground-tertiary bg-white dark:bg-background-primary rounded" name="feedback-comment" id="feedback-comment" placeholder="Your feedback will be posted as an issue in the denoland/docs GitHub repo"></textarea></div><div class="space-y-1"><label for="feedback-contact">GitHub 用户名（可选）</label><input type="text" class="block w-full p-2 border border-foreground-tertiary bg-white dark:bg-background-primary rounded" name="feedback-contact" id="feedback-contact" aria-invalid="false" placeholder="username" value/><p class="text-xs text-gray-600 dark:text-gray-400 italic mt-1">如果提供，您将在创建的 GitHub 问题中被 @提及</p></div><button type="submit" class="btn  mt-4">发送反馈给我们</button></div></div><a rel class="mt-4 !underline underline-offset-2 text-xs block" target="_blank" href="/deploy/manual/privacy-policy">隐私政策</a></form></div></div></section></div></main><ul class="toc-list hidden sticky p-4 pr-0 h-screen-minus-header overflow-y-auto border-l border-l-foreground-tertiary lg:block lg:w-full top-header" id="toc"><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E4%B8%8E-node.js-%E5%92%8C-npm-%E7%9A%84%E5%90%91%E5%90%8E%E5%85%BC%E5%AE%B9%E6%80%A7" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">与 Node.js 和 npm 的向后兼容性 </a><ul class="ml-2"><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E9%95%BF%E6%9C%9F%E6%94%AF%E6%8C%81%E7%89%88%E6%9C%AC" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">长期支持版本 </a></li></ul></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E7%AE%A1%E7%90%86%E4%BE%9D%E8%B5%96" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">管理依赖 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#monorepo%E3%80%81%E5%B7%A5%E4%BD%9C%E5%8C%BA%E5%92%8C%E7%A7%81%E6%9C%89%E6%B3%A8%E5%86%8C%E8%A1%A8%E6%94%AF%E6%8C%81" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">Monorepo、工作区和私有注册表支持 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E6%A1%86%E6%9E%B6%E6%94%AF%E6%8C%81" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">框架支持 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E9%85%8D%E7%BD%AE%E6%9B%B4%E6%94%B9" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">配置更改 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#cli-%E6%9B%B4%E6%94%B9" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">CLI 更改 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E5%AF%BC%E5%85%A5%E6%96%AD%E8%A8%80%E7%A7%BB%E9%99%A4" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">导入断言移除 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#api-%E6%9B%B4%E6%94%B9" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">API 更改 </a></li></ul></div><footer class="text-smaller bg-gray-50 dark:bg-gray-950 p-4 pt-12 sm:px-8 border-t border-t-foreground-tertiary"><nav class="flex flex-col gap-x-4 gap-y-12 max-w-7xl md:flex-row md:flex-wrap md:justify-between md:w-full md:gap-y-8 md:mx-auto"><section class="flex-auto"><h3 class="mb-2 uppercase font-bold text-foreground-primary whitespace-pre">Deno 文档</h3><ul class="m-0 p-0 pl-3 border-l border-l-background-tertiary list-none"><li><a class="block mb-2 hover:text-primary hover:underline" href="/runtime/">Deno 运行时</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="/examples/">示例</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://jsr.io/@std">标准库</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="/api/deno/~/Deno">Deno API Reference</a></li></ul></section><section class="flex-auto"><h3 class="mb-2 uppercase font-bold text-foreground-primary whitespace-pre">服务文档</h3><ul class="m-0 p-0 pl-3 border-l border-l-background-tertiary list-none"><li><a class="block mb-2 hover:text-primary hover:underline" href="/deploy/early-access/">Deno Deploy <sup>公测版</sup></a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="/deploy/manual/">Deno Deploy 经典版</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="/subhosting/manual/">Deno 子托管</a></li></ul></section><section class="flex-auto"><h3 class="mb-2 uppercase font-bold text-foreground-primary whitespace-pre">社区</h3><ul class="m-0 p-0 pl-3 border-l border-l-background-tertiary list-none"><li><a class="block mb-2 hover:text-primary hover:underline" href="https://discord.gg/deno">Discord</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://github.com/denoland">GitHub</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://youtube.com/@deno_land">YouTube</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://bsky.app/profile/deno.land">Bluesky</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://fosstodon.org/@deno_land">Mastodon</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://twitter.com/deno_land">Twitter</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://deno.news/">Newsletter</a></li></ul></section><section class="flex-auto"><h3 class="mb-2 uppercase font-bold text-foreground-primary whitespace-pre">帮助与反馈</h3><ul class="m-0 p-0 pl-3 border-l border-l-background-tertiary list-none"><li><a class="block mb-2 hover:text-primary hover:underline" href="https://discord.gg/deno">社区支持</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://denostatus.com">部署系统状态</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://github.com/denoland/deploy_feedback">部署反馈</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="mailto:support@deno.com">报告问题</a></li></ul></section><section class="flex-auto"><h3 class="mb-2 uppercase font-bold text-foreground-primary whitespace-pre">公司</h3><ul class="m-0 p-0 pl-3 border-l border-l-background-tertiary list-none"><li><a class="block mb-2 hover:text-primary hover:underline" href="https://deno.com/">Deno Website</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://deno.com/blog">Blog</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://deno.com/jobs">招聘</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://merch.deno.com/">周边商品</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="/deploy/manual/privacy-policy">隐私政策</a></li></ul></section></nav><p class="m-0 mt-16 mx-auto text-center text-xs text-foreground-secondary"><a target="_blank" href="https://www.zhcndoc.com">简中文档</a>｜<a rel="nofollow" target="_blank" href="https://beian.miit.gov.cn">沪ICP备2024070610号-3</a></p></footer></body></html>