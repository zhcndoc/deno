---
title: "@std/toml"
description: "TOML 文件的解析和序列化"
jsr: jsr:@std/toml
pkg: toml
version: 1.0.11
generated: true
stability: stable
---

<!-- Autogenerated from JSR docs. Do not edit directly. -->

## 概览

<p><a href="https://jsr.io/@std/toml@1.0.11/doc/~/parse" rel="nofollow"><code>parse</code></a> 和 <a href="https://jsr.io/@std/toml@1.0.11/doc/~/stringify" rel="nofollow"><code>stringify</code></a> 用于处理
<a href="https://toml.io" rel="nofollow">TOML</a> 编码的数据。</p>
<p>请确保阅读支持的类型，因为并非所有规范目前都被支持，并且在 TypeScript 端的处理有些不同。</p>
<h2 id="supported-types-and-handling">
支持的类型和处理方式</h2>
<ul>
<li> <a href="https://toml.io/en/latest#keys" rel="nofollow">键 (Keys)</a></li>
<li> <a href="https://toml.io/en/latest#string" rel="nofollow">字符串 (String)</a></li>
<li> <a href="https://toml.io/en/latest#string" rel="nofollow">多行字符串 (Multiline String)</a></li>
<li> <a href="https://toml.io/en/latest#string" rel="nofollow">字面量字符串 (Literal String)</a></li>
<li> <a href="https://toml.io/en/latest#integer" rel="nofollow">整数 (Integer)</a></li>
<li> <a href="https://toml.io/en/latest#float" rel="nofollow">浮点数 (Float)</a></li>
<li> <a href="https://toml.io/en/latest#boolean" rel="nofollow">布尔值 (Boolean)</a></li>
<li> <a href="https://toml.io/en/latest#offset-date-time" rel="nofollow">带偏移的日期时间 (Offset Date-time)</a></li>
<li> <a href="https://toml.io/en/latest#local-date-time" rel="nofollow">本地日期时间 (Local Date-time)</a></li>
<li> <a href="https://toml.io/en/latest#local-date" rel="nofollow">本地日期 (Local Date)</a></li>
<li> <a href="https://toml.io/en/latest#local-time" rel="nofollow">本地时间 (Local Time)</a></li>
<li> <a href="https://toml.io/en/latest#table" rel="nofollow">表格 (Table)</a></li>
<li> <a href="https://toml.io/en/latest#inline-table" rel="nofollow">内联表格 (Inline Table)</a></li>
<li> <a href="https://toml.io/en/latest#array-of-tables" rel="nofollow">表格数组 (Array of Tables)</a></li>
</ul>
<p><em>带有警告的支持内容，请参见 <a href="#Warning" rel="nofollow">警告</a> 部分。</em></p>
<h3 id="warning">
警告</h3>
<h4 id="string">
字符串</h4>
<p>由于规范限制，TOML 声明中无法正确检测正则表达式，因此正则会被存储为字符串。</p>
<h4 id="integer">
整数</h4>
<p>对于 <strong>二进制</strong> / <strong>八进制</strong> / <strong>十六进制</strong> 数字，它们会被存储为字符串，以免被解释为十进制数。</p>
<h4 id="local-time">
本地时间</h4>
<p>因为 JavaScript 中不存在本地时间类型，所以本地时间被存储为字符串。</p>
<h4 id="array-of-tables">
表格数组</h4>
<p>目前只支持如下简单声明：</p>

```js
[[bin]];
name = "deno";
path = "cli/main.rs"[[bin]];
name = "deno_core";
path = "src/foo.rs"[[nib]];
name = "node";
path = "not_found";
```

<p>将输出：</p>

```js
{
  "bin": [
    { "name": "deno", "path": "cli/main.rs" },
    { "name": "deno_core", "path": "src/foo.rs" }
  ],
  "nib": [{ "name": "node", "path": "not_found" }]
}
```

```js
import { parse, stringify } from "@std/toml";
import { assertEquals } from "@std/assert";

const obj = {
  bin: [
    { name: "deno", path: "cli/main.rs" },
    { name: "deno_core", path: "src/foo.rs" },
  ],
  nib: [{ name: "node", path: "not_found" }],
};

const tomlString = stringify(obj);
assertEquals(
  tomlString,
  `
[[bin]]
name = "deno"
path = "cli/main.rs"

[[bin]]
name = "deno_core"
path = "src/foo.rs"

[[nib]]
name = "node"
path = "not_found"
`,
);

const tomlObject = parse(tomlString);
assertEquals(tomlObject, obj);
```

### 添加到你的项目中

```sh
deno add jsr:@std/toml
```

<a href="https://jsr.io/@std/toml/doc" class="docs-cta jsr-cta">查看 @std/toml 中的所有符号
<svg class="inline ml-1" viewBox="0 0 13 7" aria-hidden="true" height="20"><path d="M0,2h2v-2h7v1h4v4h-2v2h-7v-1h-4" fill="#083344"></path><g fill="#f7df1e"><path d="M1,3h1v1h1v-3h1v4h-3"></path><path d="M5,1h3v1h-2v1h2v3h-3v-1h2v-1h-2"></path><path d="M9,2h3v2h-1v-1h-1v3h-1"></path></g></svg></a>

<!-- custom:start -->

## 什么是 TOML？

TOML（Tom's Obvious, Minimal Language）是一种配置文件格式，因其简单的语法而易于阅读。它支持多种数据类型，如字符串、数字、布尔值、日期、数组和表格，使其在配置中非常灵活。

## 为什么使用 @std/toml？

该模块提供了一种简单高效的方式，在 JavaScript 中解析和序列化 TOML 数据。可用于读取配置文件或以编程方式生成 TOML 内容。

## 小贴士

- 注意支持的类型：某些 TOML 结构在 JS 中会以字符串形式表示。
- 对于重复的部分，使用表格数组；保持结构简单以便于理解和维护。

<!-- custom:end -->