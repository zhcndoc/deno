<html lang="zh-CN"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="color-scheme" content="light dark"><title>持久卷 - Deno 中文文档</title><meta name="description" content="将块存储挂载到 Deno 沙盒中，以在会话之间保持状态"><link rel="icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><script>const theme = localStorage.getItem('denoDocsTheme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'); document.documentElement.classList.add(theme);</script><link rel="stylesheet" href="/style.css"><link rel="preload" href="/fonts/inter/Inter-Regular.woff2" as="font" type="font/woff2" crossOrigin="anonymous"><link rel="preload" href="/fonts/inter/Inter-SemiBold.woff2" as="font" type="font/woff2" crossOrigin="anonymous"><link rel="me" href="https://fosstodon.org/@deno_land"><meta name="twitter:title" content="持久卷"><meta name="twitter:description" content="将块存储挂载到 Deno 沙盒中，以在会话之间保持状态"><meta name="twitter:image" content="https://docs.deno.com/sandbox/volumes/index.png"><meta name="twitter:image:alt" content="将块存储挂载到 Deno 沙盒中，以在会话之间保持状态"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@deno_land"><meta property="og:title" content="持久卷"><meta property="og:description" content="将块存储挂载到 Deno 沙盒中，以在会话之间保持状态"><meta property="og:image" content="https://docs.deno.com/sandbox/volumes/index.png"><meta property="og:image:alt" content="将块存储挂载到 Deno 沙盒中，以在会话之间保持状态"><meta property="og:type" content="article"><meta property="og:site_name" content="Deno"><meta property="og:locale" content="en_US"><meta name="keywords" content="Deno, JavaScript, TypeScript, reference, documentation, guide, tutorial, example"><script type="module" defer src="/script.js"></script><script type="module" defer src="/js/main.js"></script><script type="module" defer src="/js/lint_rules.js"></script><script type="module" defer src="/js/copy.js"></script><script type="module" defer src="/js/tabs.js"></script><script type="module" defer src="/js/feedback.js"></script><script type="module" defer src="/js/search.js"></script><script async src="https://www.zhcndoc.com/js/common.js"></script><link rel="preconnect" href="https://www.googletagmanager.com"></head><body data-services-page><a href="#content" class="opacity-0 p-2 px-4 bg-background-secondary transition-transform duration-150 rounded-md ease-out absolute top-2 left-2 -translate-y-full focus:opacity-100 focus:translate-y-0 z-[500]">Skip to main content</a><header class="w-full h-auto sticky top-0 z-[100] bg-background-raw "><div class="grid grid-cols-[auto_1fr] md:grid-cols-[auto_auto_1fr] h-[var(--header-height)] gap-x-4 items-center justify-between px-4 w-full max-w-7xl mx-auto xlplus:px-0"><a href="https://deno.com" title="Deno main website" class="block h-8 w-8 xs:w-auto md:h-10 md:mr-auto overflow-hidden"><svg width="100%" height="100%" viewBox="0 0 1025 331" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" xmlSpace="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="" data-component="logo"><path id="background" d="M28.829,227.937c-8.871,-19.143 -13.822,-40.465 -13.822,-62.935c-0,-5.815 0.332,-11.554 0.977,-17.197c0.655,-5.703 1.626,-11.299 2.893,-16.773c7.12,-30.704 23.68,-57.808 46.452,-78.082c19.127,-17.006 42.558,-29.14 68.244,-34.64c10.137,-2.165 20.651,-3.304 31.43,-3.304c3.778,0.004 7.583,0.149 11.411,0.441c18.154,1.386 35.309,5.956 50.959,13.121c12.625,5.786 24.31,13.274 34.762,22.169c26.253,22.364 44.562,53.517 50.651,88.476c1.455,8.379 2.213,16.996 2.213,25.789c-0.003,3.784 -0.149,7.595 -0.442,11.429c-1.106,14.489 -4.241,28.342 -9.104,41.302c-6.788,18.051 -16.959,34.452 -29.738,48.428c-16.621,16.971 -37.743,24.523 -55.384,24.209c-12.828,-0.229 -25.379,-5.333 -34.052,-12.801c-12.39,-10.669 -17.394,-22.865 -19.11,-36.474c-0.426,-3.383 -0.176,-12.601 1.585,-18.984c1.312,-4.758 4.64,-13.946 9.507,-17.965c-5.693,-2.452 -13.021,-7.792 -15.331,-10.355c-0.568,-0.63 -0.494,-1.617 0.014,-2.296c0.509,-0.678 1.4,-0.946 2.199,-0.659c4.895,1.68 10.856,3.337 17.142,4.389c8.267,1.382 18.548,3.122 28.963,3.634c25.395,1.247 51.921,-10.151 60.154,-32.83c8.232,-22.679 5.038,-45.111 -24.496,-58.566c-29.535,-13.456 -43.178,-29.455 -67.041,-39.104c-15.587,-6.303 -32.935,-2.561 -50.746,7.282c-47.974,26.512 -90.955,110.279 -71.142,187.887c0.283,1.062 -0.195,2.18 -1.158,2.709c-0.903,0.495 -2.013,0.354 -2.761,-0.331c-5.766,-6.336 -10.998,-13.166 -15.623,-20.421c-3.578,-5.614 -6.79,-11.475 -9.606,-17.548Z" style="fill: var(--logoColor);"></path><path id="outline" d="M172.67,0.181c90.968,4.232 161.386,81.521 157.155,172.489c-4.232,90.968 -81.522,161.385 -172.489,157.153c-90.968,-4.231 -161.386,-81.52 -157.155,-172.487c4.232,-90.968 81.521,-161.386 172.489,-157.155Zm38.578,198.678c-10.415,-0.512 -20.696,-2.252 -28.963,-3.634c-6.286,-1.052 -12.247,-2.709 -17.142,-4.389c-0.799,-0.287 -1.69,-0.019 -2.199,0.659c-0.508,0.679 -0.582,1.666 -0.014,2.296c2.31,2.563 9.638,7.903 15.331,10.355c-4.867,4.019 -8.195,13.207 -9.507,17.965c-1.761,6.383 -2.011,15.601 -1.585,18.984c1.716,13.609 6.72,25.805 19.11,36.474c8.673,7.468 21.224,12.572 34.052,12.801c17.702,0.315 38.909,-7.29 55.556,-24.385c21.765,-23.861 36.023,-54.887 38.67,-89.554c6.303,-82.546 -55.596,-154.681 -138.143,-160.984c-82.545,-6.303 -154.68,55.597 -160.983,138.143c-3.264,42.749 11.764,82.706 38.481,112.17c0.744,0.809 1.944,1.006 2.907,0.477c0.963,-0.529 1.441,-1.647 1.158,-2.709c-19.813,-77.608 23.168,-161.375 71.142,-187.887c17.811,-9.843 35.159,-13.585 50.746,-7.282c23.863,9.649 37.506,25.648 67.041,39.104c29.534,13.455 32.728,35.887 24.496,58.566c-8.233,22.679 -34.759,34.077 -60.154,32.83Z" style="fill: var(--outlineColor);"></path><path id="logotype" d="M694.596,164.68c-0,4.838 -0,11.794 -0.909,14.213l-103.727,0c4.837,17.542 18.749,28.431 37.8,28.431c15.728,0.302 27.219,-6.654 35.383,-16.636l25.705,23.894c-12.7,16.028 -34.171,27.822 -63.809,27.822c-43.243,-0 -75.904,-30.242 -75.904,-76.513c-0,-44.756 31.148,-75.907 73.184,-75.907c43.243,-0 72.277,31.453 72.277,74.696Zm-71.07,-39.918c-16.025,-0 -28.729,8.771 -33.265,25.706l65.02,-0c-3.932,-15.422 -14.515,-25.706 -31.755,-25.706Zm175.096,-34.778c31.758,-0 53.829,16.938 53.829,62.298l0,87.703l-39.615,-0l0,-77.724c0,-28.124 -9.976,-36.892 -28.427,-36.892c-19.953,0 -33.564,13.908 -33.564,40.221l-0,74.395l-39.617,-0l0,-147.582l39.617,-0l-0,19.055l0.602,0c12.095,-14.213 29.037,-21.474 47.175,-21.474Zm146.977,152.42c-46.871,-0 -78.324,-32.058 -78.324,-76.21c-0,-44.153 31.453,-76.21 78.324,-76.21c45.971,-0 78.628,30.849 78.628,76.21c0,45.36 -32.657,76.21 -78.628,76.21Zm-0,-35.386c21.469,0 38.411,-16.934 38.411,-40.824c-0,-24.192 -16.332,-40.825 -38.411,-40.825c-22.986,0 -38.404,17.539 -38.404,40.825c0,22.984 16.028,40.824 38.404,40.824Zm-540.473,32.967l0,-150.001l54.227,-0c47.449,-0 77.952,30.845 77.952,75.212c-0,44.154 -28.597,74.789 -77.316,74.789l-54.863,-0Zm38.976,-35.705l13.133,-0c22.878,-0 37.917,-17.535 37.917,-39.084c-0,-22.395 -15.251,-39.507 -34.952,-39.507l-16.098,-0l0,78.591Z" style="fill: var(--textColor);"></path><path id="eye" d="M159.634,78.772c8.092,-0.634 15.152,6.272 16.369,15.457c1.624,12.235 -2.867,24.874 -17.633,25.165c-12.614,0.252 -16.436,-12.469 -15.6,-20.175c0.83,-7.706 7.182,-19.687 16.864,-20.447Z" style="fill: var(--eyeColor);"></path><style>
        [data-component="logo"] {
          --logoColor: #000;
          --textColor: #000;
          --eyeColor: #000;
          --outlineColor: transparent;

          height: 100%;
          width: auto;
        }
        .dark [data-component="logo"] {
          --textColor: #fff;
          --outlineColor: #fff;
        }
        @keyframes blink {
          0%, 100% {
            transform: scaleY(1);
          }
          50% {
            transform: scaleY(0.15);
          }
        }
        [data-component="logo"]:hover,
        a:focus [data-component="logo"] {
          #eye {
            transform-origin: 50% 30%;
            animation: blink 0.15s cubic-bezier(0.5, 0, 0.5, 1);
          }
        }
        </style></svg></a><nav id="main-nav" class="flex h-full items-center row-start-2 col-span-2 md:row-auto md:col-auto -mx-4 md:mx-0 overflow-x-auto md:overflow-clip"><a href="/runtime/" class="font-[clamp(0.8rem,1.5vw,1rem)] whitespace-nowrap relative py-0 px-4 h-full flex justify-center items-center text-foreground-primary hover:text-gray-800 transition-colors duration-200  ">文档</a><a href="/api/deno/" class="font-[clamp(0.8rem,1.5vw,1rem)] whitespace-nowrap relative py-0 px-4 h-full flex justify-center items-center text-foreground-primary hover:text-gray-800 transition-colors duration-200  ">API 参考</a><a href="/examples/" class="font-[clamp(0.8rem,1.5vw,1rem)] whitespace-nowrap relative py-0 px-4 h-full flex justify-center items-center text-foreground-primary hover:text-gray-800 transition-colors duration-200  ">示例</a><a href="/services/" class="font-[clamp(0.8rem,1.5vw,1rem)] whitespace-nowrap relative py-0 px-4 h-full flex justify-center items-center text-foreground-primary hover:text-gray-800 transition-colors duration-200 font-bold text-gray-800 bg-header-highlight services" data-active aria-current="location"><div id="current-nav-item" class="absolute inset-0 bg-header-highlight -z-10 transition-transform duration-200 easing-[cubic-bezier(0.5,0,0.5,1)] origin-left" style="--left: 0px; --scaleX: 1; transform: translateX(var(--left)) scaleX(var(--scaleX));"></div>服务</a></nav><div class="flex items-center gap-x-2 sm:gap-x-4 ml-auto w-full max-w-80"><div class="md:relative w-full"><div class="relative"><input type="search" placeholder="Search" id="orama-search-input" class="w-full min-w-24 rounded-lg placeholder:text-sm text-base leading-normal p-1 pl-8 border transition-all duration-150 text-foreground-primary border-foreground-secondary hover:bg-background-secondary focus:bg-background-secondary focus:outline-offset-1" style="background: url(/img/search.svg) no-repeat 0.5em 50%; background-size: 1.25em; background-color: var(--color-background-raw);"><kbd id="search-key" class="hidden xs:flex pointer-events-none absolute font-sans rounded-sm top-1 right-1 bottom-1 w-auto border-1 border-foreground-tertiary border-b-2 border-r-2 bg-background-primary text-foreground-secondary text-center text-xs font-bold p-2 items-center justify-center dark:bg-background-secondary dark:border-gray-700">⌘K</kbd><div id="orama-search-loading" class="absolute left-2 top-1/2 transform -translate-y-1/2 hidden bg-background-raw"><div class="animate-spin rounded-full h-4 w-4 border-2 border-transparent border-r-foreground-primary bg-background-raw"></div></div><div class="sr-only" aria-live="polite" id="orama-results-announcer"></div></div><div id="orama-search-results" class="absolute inset-2 left-2 right-2 h-[calc(100vh-8rem)] top-10 md:top-full md:left-auto md:right-0 mt-2 bg-background-raw border border-foreground-tertiary rounded-xl shadow-2xl z-50 md:max-h-128 overflow-hidden hidden md:min-w-160 max-w-2xl"><div id="orama-search-results-content" class="overflow-y-auto h-full"></div><div class="border-t border-foreground-tertiary bg-background-secondary px-4 py-2 sticky bottom-0"><div class="flex items-center gap-6 text-xs text-foreground-secondary"><span><kbd class="px-1.5 py-0.5 text-xs font-semibold text-foreground-secondary bg-background-primary border-r-2 border-b-2 border border-foreground-tertiary rounded mr-1"><span aria-hidden="true">↑↓</span><span class="sr-only">Up or down to</span></kbd>navigate</span><span><kbd class="px-1.5 py-0.5 text-xs font-semibold text-foreground-secondary bg-background-primary border-r-2 border-b-2 border border-foreground-tertiary rounded mr-1"><span aria-hidden="true">↵</span><span class="sr-only">Enter to</span></kbd>select</span><span><kbd class="px-1.5 py-0.5 text-xs font-semibold text-foreground-secondary bg-background-primary border-r-2 border-b-2 border border-foreground-tertiary rounded mr-1"><span aria-hidden="true">ESC</span><span class="sr-only">Escape to</span></kbd>close</span></div></div></div></div><button type="button" aria-label="toggle theme" class="shrink-0 h-9 aspect-square p-1 cursor-pointer rounded border border-transparent transition-colors duration-200 ease-in-out text-foreground-secondary hover:decoration-none hover:bg-background-secondary hover:border-background-tertiary flex flex-col items-center justify-start overflow-hidden" id="theme-toggle"><img src="/img/light.svg" class="w-full block -translate-y-full dark:translate-y-0 transition-transform duration-200 easing-[0.86,0,0.07,1]" alt=""><img src="/img/dark.svg" class="w-full block -translate-y-full dark:translate-y-0 transition-transform duration-200 easing-[0.86,0,0.07,1]" alt=""><span class="sr-only">Toggle Theme</span></button><button type="button" id="hamburger-button" class="h-8 w-auto py-2 px-0 flex flex-col justify-between rounded md:hidden" aria-pressed="false"><div class="block w-6 h-0.5 bg-foreground-primary duration-200 ease-[cubic-bezier(0.77,0,0.175,1)] transition-transform hamburger-bar--top"></div><div class="block w-6 h-0.5 bg-foreground-primary duration-200 ease-[cubic-bezier(0.77,0,0.175,1)] transition-opacity hamburger-bar--middle"></div><div class="block w-6 h-0.5 bg-foreground-primary duration-200 ease-[cubic-bezier(0.77,0,0.175,1)] transition-transform hamburger-bar--bottom"></div><span class="sr-only">Toggle navigation menu</span></button></div></div><nav class="flex items-center pl-4 bg-header-highlight z-10 h-[var(--subnav-height)] overflow-x-auto xlplus:pl-0"><ul class="flex w-full max-w-7xl mx-auto items-center gap-6"><li><a class="whitespace-nowrap text-sm md:text-base p-0 text-gray-800 block relative after:absolute after:bottom-0 after:left-0 after:origin-right after:transition-transform after:scale-x-0 after:block after:w-full after:h-px after:bg-gray-800 hover:after:scale-x-100 hover:after:origin-left "  href="/deploy/"><span>Deno Deploy</span></a></li><li><a class="whitespace-nowrap text-sm md:text-base p-0 text-gray-800 block relative after:absolute after:bottom-0 after:left-0 after:origin-right after:transition-transform after:scale-x-0 after:block after:w-full after:h-px after:bg-gray-800 hover:after:scale-x-100 hover:after:origin-left font-bold" data-active aria-current="location" href="/sandbox/"><span>Deno Sandbox</span></a></li><li><a class="whitespace-nowrap text-sm md:text-base p-0 text-gray-800 block relative after:absolute after:bottom-0 after:left-0 after:origin-right after:transition-transform after:scale-x-0 after:block after:w-full after:h-px after:bg-gray-800 hover:after:scale-x-100 hover:after:origin-left "  href="/deploy/classic/"><span>Deploy Classic</span></a></li><li><a class="whitespace-nowrap text-sm md:text-base p-0 text-gray-800 block relative after:absolute after:bottom-0 after:left-0 after:origin-right after:transition-transform after:scale-x-0 after:block after:w-full after:h-px after:bg-gray-800 hover:after:scale-x-100 hover:after:origin-left "  href="/subhosting/manual/"><span>Subhosting</span></a></li></ul></nav></header><div class="layout layout--three-column"><aside class="fixed transition-all duration-200 md:duration-0 easing-[cubic-bezier(0.165,0.84,0.44,1)] -translate-x-full z-50 w-full bg-background-raw opacity-0 p-4 pb-8 overflow-auto text-smaller md:sticky md:overflow-y-auto md:[scrollbar-width:thin] md:z-10 md:!translate-x-0 md:!opacity-100 md:p-0 md:pb-16 lg:border-r lg:border-r-foreground-tertiary lg:w-full sidebar-open:translate-x-0 sidebar-open:opacity-100
         top-header-plus-subnav h-screen-minus-both" data-component="sidebar-nav" data-section="sandbox" id="nav" style="scrollbar-width: none;" tabIndex="-1"><nav><h2 class="block uppercase py-2 pr-4 mt-4 text-foreground-secondary font-bold leading-[1.2] text-balance tracking-wide !border-0">Sandbox</h2><ul class="p-0 list-none overflow-y-hidden "><li><a href="/sandbox/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" >About</a></li><li><a href="/sandbox/getting_started/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" >Getting started</a></li><li><a href="/sandbox/create/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" >Create a sandbox</a></li><li><a href="/sandbox/cli/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" >Management via CLI</a></li></ul></nav><nav><h2 class="block uppercase py-2 pr-4 mt-4 text-foreground-secondary font-bold leading-[1.2] text-balance tracking-wide !border-0">Concepts</h2><ul class="p-0 list-none overflow-y-hidden "><li><a href="/sandbox/expose_http/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" >Expose HTTP</a></li><li><a href="/sandbox/ssh/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" >SSH</a></li><li><a href="/sandbox/apps/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" >Manage Deno Deploy apps</a></li><li><a href="/sandbox/volumes/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 bg-header-highlight border-foreground-secondary text-gray-800" data-active>Volumes &amp; Snapshots</a></li><li><a href="/sandbox/timeouts/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" >Timeouts</a></li><li><a href="/sandbox/security/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" >Security</a></li></ul></nav><nav><h2 class="block uppercase py-2 pr-4 mt-4 text-foreground-secondary font-bold leading-[1.2] text-balance tracking-wide !border-0">Reference</h2><ul class="p-0 list-none overflow-y-hidden "><li><a href="https://jsr.io/@deno/sandbox/doc/~/Sandbox" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" >SDK Reference</a></li><li><a href="https://console.deno.com/api/v2/docs" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" >REST API</a></li><li><a href="/runtime/reference/cli/sandbox/" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" >Sandbox CLI commands</a></li><li><a href="/examples/#sandbox" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" >Examples</a></li><li><a href="https://deno.com/deploy/sandbox#sandbox-pricing" class="block m-0 py-1 px-3 border-l hover:bg-header-highlight hover:border-foreground-secondary hover:text-gray-800 transition-colors duration-150 border-foreground-tertiary" >Pricing</a></li></ul></nav></aside><main id="content" class="content "><div class="w-full"><article class="mx-auto"><details class="block lg:hidden my-4 bg-foreground-quaternary rounded-md group"><summary class="px-4 py-2 group-open:border-b border-background-tertiary">On this page</summary><ul class="p-4 pt-2"><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E9%A2%84%E9%85%8D%E5%AD%98%E5%82%A8" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">预配存储 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E4%BD%BF%E7%94%A8-client.volumes-%E9%A2%84%E9%85%8D%E7%BD%AE%E5%AD%98%E5%82%A8" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">使用 Client.volumes 预配置存储 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E6%A3%80%E6%9F%A5%E5%92%8C%E6%90%9C%E7%B4%A2%E5%8D%B7" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">检查和搜索卷 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E5%9C%A8%E6%B2%99%E7%AE%B1%E5%86%85%E6%8C%82%E8%BD%BD%E5%8D%B7" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">在沙箱内挂载卷 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E5%AE%89%E5%85%A8%E5%88%A0%E9%99%A4%E5%8D%B7" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">安全删除卷 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E5%BF%AB%E7%85%A7" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">快照 </a><ul class="ml-2"><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E5%88%9B%E5%BB%BA%E5%BF%AB%E7%85%A7%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">创建快照的工作流程 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E4%BB%8E%E5%BF%AB%E7%85%A7%E5%90%AF%E5%8A%A8" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">从快照启动 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E5%88%97%E5%87%BA%E5%BF%AB%E7%85%A7" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">列出快照 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E4%BB%8E%E5%BF%AB%E7%85%A7%E5%88%9B%E5%BB%BA%E5%8D%B7" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">从快照创建卷 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E5%88%A0%E9%99%A4%E5%BF%AB%E7%85%A7" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">删除快照 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E5%8D%B7-%E5%92%8C-%E5%BF%AB%E7%85%A7%E5%AF%B9%E6%AF%94" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">卷 和 快照对比 </a></li></ul></li></ul></details><div data-color-mode="auto" data-light-theme="light" data-dark-theme="dark" class="markdown-body mt-6 sm:mt-6"><h1>持久卷</h1><p>持久卷让你可以将区域块存储附加到沙箱中，从而使数据在进程重启和新连接之间得以保留。它们非常适合包缓存、构建产物、SQLite 数据库，或任何需要少量耐久存储但不需要将代码提升为完整 Deno Deploy 应用的工作流。</p>
<h3 id="%E9%A2%84%E9%85%8D%E5%AD%98%E5%82%A8" tabindex="-1">预配存储 <a class="header-anchor" href="#%E9%A2%84%E9%85%8D%E5%AD%98%E5%82%A8"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h3>
<p>持久卷目前处于私有测试阶段。如需访问此功能，请联系
<a href="mailto:support@deno.com">support</a></p>
<p>:::</p>
<h2 id="%E4%BD%BF%E7%94%A8-client.volumes-%E9%A2%84%E9%85%8D%E7%BD%AE%E5%AD%98%E5%82%A8" tabindex="-1">使用 <code>Client.volumes</code> 预配置存储 <a class="header-anchor" href="#%E4%BD%BF%E7%94%A8-client.volumes-%E9%A2%84%E9%85%8D%E7%BD%AE%E5%AD%98%E5%82%A8"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h2>
<p>使用管理 Deploy 应用的相同 <code>Client</code> 类。</p>
<deno-tabs group-id="sandbox-sdk">
<deno-tab value="js" label="JavaScript" default>
<div class="relative"><pre><code class="highlight notranslate language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> Client <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@deno/sandbox"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> volume <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  slug<span class="token operator">:</span> <span class="token string">"training-cache"</span><span class="token punctuation">,</span>
  region<span class="token operator">:</span> <span class="token string">"ord"</span><span class="token punctuation">,</span> <span class="token comment">// ord（芝加哥）或 ams（阿姆斯特丹）</span>
  capacity<span class="token operator">:</span> <span class="token string">"2GB"</span><span class="token punctuation">,</span> <span class="token comment">// 接受字节数或 "1GB"/"512MB" 等样式的字符串</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>volume<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// {</span>
<span class="token comment">//   id: "8a0f...",</span>
<span class="token comment">//   slug: "training-cache",</span>
<span class="token comment">//   region: "ord",</span>
<span class="token comment">//   capacity: 2147483648,</span>
<span class="token comment">//   used: 0</span>
<span class="token comment">// }</span>
</code></pre>

      <button id="copy-button-19" class="copyButton" data-copy="import { Client } from &quot;@deno/sandbox&quot;;

const client = new Client();

const volume = await client.volumes.create({
  slug: &quot;training-cache&quot;,
  region: &quot;ord&quot;, // ord（芝加哥）或 ams（阿姆斯特丹）
  capacity: &quot;2GB&quot;, // 接受字节数或 &quot;1GB&quot;/&quot;512MB&quot; 等样式的字符串
});

console.log(volume);
// {
//   id: &quot;8a0f...&quot;,
//   slug: &quot;training-cache&quot;,
//   region: &quot;ord&quot;,
//   capacity: 2147483648,
//   used: 0
// }
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
<deno-tab value="python" label="Python">
<div class="relative"><pre><code class="highlight notranslate language-py"><span class="token keyword">from</span> deno_sandbox <span class="token keyword">import</span> DenoDeploy

sdk <span class="token operator">=</span> DenoDeploy<span class="token punctuation">(</span><span class="token punctuation">)</span>

volume <span class="token operator">=</span> sdk<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
  slug<span class="token operator">=</span><span class="token string">"training-cache"</span><span class="token punctuation">,</span>
  region<span class="token operator">=</span><span class="token string">"ord"</span><span class="token punctuation">,</span>  <span class="token comment"># ord (芝加哥) 或 ams (阿姆斯特丹)</span>
  capacity<span class="token operator">=</span><span class="token string">"2GB"</span>  <span class="token comment"># 接受字节数或 "1GB"/"512MB" 样式的字符串</span>
<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>volume<span class="token punctuation">)</span>
<span class="token comment"># {</span>
<span class="token comment">#   "id": "8a0f...",</span>
<span class="token comment">#   "slug": "training-cache",</span>
<span class="token comment">#   "region": "ord",</span>
<span class="token comment">#   "capacity": 2147483648,</span>
<span class="token comment">#   "used": 0</span>
<span class="token comment"># }</span>
</code></pre>

      <button id="copy-button-21" class="copyButton" data-copy="from deno_sandbox import DenoDeploy

sdk = DenoDeploy()

volume = sdk.volumes.create(
  slug=&quot;training-cache&quot;,
  region=&quot;ord&quot;,  # ord (芝加哥) 或 ams (阿姆斯特丹)
  capacity=&quot;2GB&quot;  # 接受字节数或 &quot;1GB&quot;/&quot;512MB&quot; 样式的字符串
)

print(volume)
# {
#   &quot;id&quot;: &quot;8a0f...&quot;,
#   &quot;slug&quot;: &quot;training-cache&quot;,
#   &quot;region&quot;: &quot;ord&quot;,
#   &quot;capacity&quot;: 2147483648,
#   &quot;used&quot;: 0
# }
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
<deno-tab value="python-async" label="Python (异步)">
<div class="relative"><pre><code class="highlight notranslate language-py"><span class="token keyword">from</span> deno_sandbox <span class="token keyword">import</span> AsyncDenoDeploy

sdk <span class="token operator">=</span> AsyncDenoDeploy<span class="token punctuation">(</span><span class="token punctuation">)</span>

volume <span class="token operator">=</span> <span class="token keyword">await</span> sdk<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
  slug<span class="token operator">=</span><span class="token string">"training-cache"</span><span class="token punctuation">,</span>
  region<span class="token operator">=</span><span class="token string">"ord"</span><span class="token punctuation">,</span>  <span class="token comment"># ord (芝加哥) 或 ams (阿姆斯特丹)</span>
  capacity<span class="token operator">=</span><span class="token string">"2GB"</span>  <span class="token comment"># 接受字节数或 "1GB"/"512MB" 样式的字符串</span>
<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>volume<span class="token punctuation">)</span>
<span class="token comment"># {</span>
<span class="token comment">#   "id": "8a0f...",</span>
<span class="token comment">#   "slug": "training-cache",</span>
<span class="token comment">#   "region": "ord",</span>
<span class="token comment">#   "capacity": 2147483648,</span>
<span class="token comment">#   "used": 0</span>
<span class="token comment"># }</span>
</code></pre>

      <button id="copy-button-23" class="copyButton" data-copy="from deno_sandbox import AsyncDenoDeploy

sdk = AsyncDenoDeploy()

volume = await sdk.volumes.create(
  slug=&quot;training-cache&quot;,
  region=&quot;ord&quot;,  # ord (芝加哥) 或 ams (阿姆斯特丹)
  capacity=&quot;2GB&quot;  # 接受字节数或 &quot;1GB&quot;/&quot;512MB&quot; 样式的字符串
)

print(volume)
# {
#   &quot;id&quot;: &quot;8a0f...&quot;,
#   &quot;slug&quot;: &quot;training-cache&quot;,
#   &quot;region&quot;: &quot;ord&quot;,
#   &quot;capacity&quot;: 2147483648,
#   &quot;used&quot;: 0
# }
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
</deno-tabs>
<table>
<thead>
<tr>
<th>字段</th>
<th>是否必需</th>
<th>详情</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>slug</code></td>
<td>✅</td>
<td>在组织内唯一。Slug 会成为挂载元数据的一部分，请选择描述性强的名称。</td>
</tr>
<tr>
<td><code>region</code></td>
<td>✅</td>
<td>必须匹配可用的沙箱区域（目前为 <code>&quot;ord&quot;</code> 或 <code>&quot;ams&quot;</code>）。只有同一区域的沙箱才能挂载该卷。</td>
</tr>
<tr>
<td><code>capacity</code></td>
<td>✅</td>
<td>介于 300 MB 和 20 GB 之间。支持字节数，或带有 <code>GB</code>/<code>MB</code>/<code>KB</code>（十进制）或 <code>GiB</code>/<code>MiB</code>/<code>KiB</code>（二进制）单位的字符串。</td>
</tr>
</tbody>
</table>
<h2 id="%E6%A3%80%E6%9F%A5%E5%92%8C%E6%90%9C%E7%B4%A2%E5%8D%B7" tabindex="-1">检查和搜索卷 <a class="header-anchor" href="#%E6%A3%80%E6%9F%A5%E5%92%8C%E6%90%9C%E7%B4%A2%E5%8D%B7"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h2>
<p><code>client.volumes.list()</code> 返回分页结果和辅助迭代器，<code>client.volumes.get()</code> 可按 slug 或 UUID 获取单个记录。</p>
<deno-tabs group-id="sandbox-sdk">
<deno-tab value="js" label="JavaScript" default>
<div class="relative"><pre><code class="highlight notranslate language-tsx"><span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">{</span> search<span class="token operator">:</span> <span class="token string">"training"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> vol <span class="token keyword">of</span> page<span class="token punctuation">.</span>items<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>vol<span class="token punctuation">.</span>slug<span class="token punctuation">,</span> vol<span class="token punctuation">.</span>estimatedFlattenedSize<span class="token punctuation">,</span> vol<span class="token punctuation">.</span>capacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> vol <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"training-cache"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

      <button id="copy-button-82" class="copyButton" data-copy="const page = await client.volumes.list({ search: &quot;training&quot; });
for (const vol of page.items) {
  console.log(vol.slug, vol.estimatedFlattenedSize, vol.capacity);
}

const vol = await client.volumes.get(&quot;training-cache&quot;);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
<deno-tab value="python" label="Python">
<div class="relative"><pre><code class="highlight notranslate language-py">page <span class="token operator">=</span> sdk<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span>search<span class="token operator">=</span><span class="token string">"training"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> vol <span class="token keyword">in</span> page<span class="token punctuation">.</span>items<span class="token punctuation">:</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>vol<span class="token punctuation">[</span><span class="token string">'slug'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span>vol<span class="token punctuation">[</span><span class="token string">'estimatedFlattenedSize'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span>vol<span class="token punctuation">[</span><span class="token string">'capacity'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

vol <span class="token operator">=</span> sdk<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"training-cache"</span><span class="token punctuation">)</span>
</code></pre>

      <button id="copy-button-84" class="copyButton" data-copy="page = sdk.volumes.list(search=&quot;training&quot;)
for vol in page.items:
  print(f&quot;{vol[&apos;slug&apos;]} {vol[&apos;estimatedFlattenedSize&apos;]} {vol[&apos;capacity&apos;]}&quot;)

vol = sdk.volumes.get(&quot;training-cache&quot;)
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
<deno-tab value="python-async" label="Python (异步)">
<div class="relative"><pre><code class="highlight notranslate language-py">page <span class="token operator">=</span> <span class="token keyword">await</span> sdk<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span>search<span class="token operator">=</span><span class="token string">"training"</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">for</span> vol <span class="token keyword">in</span> page<span class="token punctuation">:</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"</span><span class="token interpolation"><span class="token punctuation">{</span>vol<span class="token punctuation">[</span><span class="token string">'slug'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span>vol<span class="token punctuation">[</span><span class="token string">'estimatedFlattenedSize'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span>vol<span class="token punctuation">[</span><span class="token string">'capacity'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

vol <span class="token operator">=</span> <span class="token keyword">await</span> sdk<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"training-cache"</span><span class="token punctuation">)</span>
</code></pre>

      <button id="copy-button-86" class="copyButton" data-copy="page = await sdk.volumes.list(search=&quot;training&quot;)
async for vol in page:
  print(f&quot;{vol[&apos;slug&apos;]} {vol[&apos;estimatedFlattenedSize&apos;]} {vol[&apos;capacity&apos;]}&quot;)

vol = await sdk.volumes.get(&quot;training-cache&quot;)
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
</deno-tabs>
<p><code>used</code> 字段报告控制平面从底层集群获得的最新估算值。该值可能会比实际情况滞后几分钟，因此创建卷时请预留足够的容量。</p>
<h2 id="%E5%9C%A8%E6%B2%99%E7%AE%B1%E5%86%85%E6%8C%82%E8%BD%BD%E5%8D%B7" tabindex="-1">在沙箱内挂载卷 <a class="header-anchor" href="#%E5%9C%A8%E6%B2%99%E7%AE%B1%E5%86%85%E6%8C%82%E8%BD%BD%E5%8D%B7"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h2>
<p>调用 <code>Sandbox.create()</code> 时传入 <code>volumes</code> 映射。键为挂载路径，值为卷的 slug 或 ID。沙箱和卷<strong>必须位于同一区域</strong>。</p>
<p>
<div class="admonition note">
  <div class="title">Note</div>

</p>
<p><code>Sandbox.create()</code> 和 <code>client.sandboxes.create()</code> 功能相同——根据你的代码风格选择使用即可。</p>
<p>
</div>
</p>
<deno-tabs group-id="sandbox-sdk">
<deno-tab value="js" label="JavaScript" default>
<div class="relative"><pre><code class="highlight notranslate language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> Client<span class="token punctuation">,</span> Sandbox <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@deno/sandbox"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> volume <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  slug<span class="token operator">:</span> <span class="token string">"dataset"</span><span class="token punctuation">,</span>
  region<span class="token operator">:</span> <span class="token string">"ord"</span><span class="token punctuation">,</span>
  capacity<span class="token operator">:</span> <span class="token string">"1GB"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 第一次运行时向卷中写入文件</span>
<span class="token punctuation">{</span>
  <span class="token keyword">await</span> using sandbox <span class="token operator">=</span> <span class="token keyword">await</span> Sandbox<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    region<span class="token operator">:</span> <span class="token string">"ord"</span><span class="token punctuation">,</span>
    volumes<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"/data/dataset"</span><span class="token operator">:</span> volume<span class="token punctuation">.</span>slug<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    labels<span class="token operator">:</span> <span class="token punctuation">{</span> job<span class="token operator">:</span> <span class="token string">"prepare"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">await</span> sandbox<span class="token punctuation">.</span>fs<span class="token punctuation">.</span><span class="token function">writeTextFile</span><span class="token punctuation">(</span><span class="token string">"/data/dataset/hello.txt"</span><span class="token punctuation">,</span> <span class="token string">"Persist me!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 新沙箱 —— 可能在数小时之后启动 —— 可以读取同一个文件</span>
<span class="token punctuation">{</span>
  <span class="token keyword">await</span> using sandbox <span class="token operator">=</span> <span class="token keyword">await</span> Sandbox<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    region<span class="token operator">:</span> <span class="token string">"ord"</span><span class="token punctuation">,</span>
    volumes<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"/data/dataset"</span><span class="token operator">:</span> volume<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token comment">// ID 也可用</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> contents <span class="token operator">=</span> <span class="token keyword">await</span> sandbox<span class="token punctuation">.</span>fs<span class="token punctuation">.</span><span class="token function">readTextFile</span><span class="token punctuation">(</span><span class="token string">"/data/dataset/hello.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "Persist me!"</span>
<span class="token punctuation">}</span>
</code></pre>

      <button id="copy-button-107" class="copyButton" data-copy="import { Client, Sandbox } from &quot;@deno/sandbox&quot;;

const client = new Client();
const volume = await client.volumes.create({
  slug: &quot;dataset&quot;,
  region: &quot;ord&quot;,
  capacity: &quot;1GB&quot;,
});

// 第一次运行时向卷中写入文件
{
  await using sandbox = await Sandbox.create({
    region: &quot;ord&quot;,
    volumes: {
      &quot;/data/dataset&quot;: volume.slug,
    },
    labels: { job: &quot;prepare&quot; },
  });

  await sandbox.fs.writeTextFile(&quot;/data/dataset/hello.txt&quot;, &quot;Persist me!\n&quot;);
}

// 新沙箱 —— 可能在数小时之后启动 —— 可以读取同一个文件
{
  await using sandbox = await Sandbox.create({
    region: &quot;ord&quot;,
    volumes: {
      &quot;/data/dataset&quot;: volume.id, // ID 也可用
    },
  });

  const contents = await sandbox.fs.readTextFile(&quot;/data/dataset/hello.txt&quot;);
  console.log(contents); // &quot;Persist me!&quot;
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
<deno-tab value="python" label="Python">
<div class="relative"><pre><code class="highlight notranslate language-py"><span class="token keyword">from</span> deno_sandbox <span class="token keyword">import</span> DenoDeploy

sdk <span class="token operator">=</span> DenoDeploy<span class="token punctuation">(</span><span class="token punctuation">)</span>

volume <span class="token operator">=</span> sdk<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
  slug<span class="token operator">=</span><span class="token string">"dataset"</span><span class="token punctuation">,</span>
  region<span class="token operator">=</span><span class="token string">"ord"</span><span class="token punctuation">,</span>
  capacity<span class="token operator">=</span><span class="token string">"1GB"</span>
<span class="token punctuation">)</span>

<span class="token comment"># 第一次运行时向卷中写入文件</span>
<span class="token keyword">with</span> sdk<span class="token punctuation">.</span>sandbox<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
  region<span class="token operator">=</span><span class="token string">"ord"</span><span class="token punctuation">,</span>
  volumes<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token string">"/data/dataset"</span><span class="token punctuation">:</span> volume<span class="token punctuation">[</span><span class="token string">"slug"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  labels<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"job"</span><span class="token punctuation">:</span> <span class="token string">"prepare"</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span> <span class="token keyword">as</span> sandbox<span class="token punctuation">:</span>
  sandbox<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>write_text_file<span class="token punctuation">(</span><span class="token string">"/data/dataset/hello.txt"</span><span class="token punctuation">,</span> <span class="token string">"Persist me!\n"</span><span class="token punctuation">)</span>

<span class="token comment"># 新沙箱 —— 可能数小时后启动 —— 可以读取同一个文件</span>
<span class="token keyword">with</span> sdk<span class="token punctuation">.</span>sandbox<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
  region<span class="token operator">=</span><span class="token string">"ord"</span><span class="token punctuation">,</span>
  volumes<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token string">"/data/dataset"</span><span class="token punctuation">:</span> volume<span class="token punctuation">[</span><span class="token string">"id"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment"># ID 也可以用</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span> <span class="token keyword">as</span> sandbox<span class="token punctuation">:</span>
  contents <span class="token operator">=</span> sandbox<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>read_text_file<span class="token punctuation">(</span><span class="token string">"/data/dataset/hello.txt"</span><span class="token punctuation">)</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span>  <span class="token comment"># "Persist me!"</span>
</code></pre>

      <button id="copy-button-109" class="copyButton" data-copy="from deno_sandbox import DenoDeploy

sdk = DenoDeploy()

volume = sdk.volumes.create(
  slug=&quot;dataset&quot;,
  region=&quot;ord&quot;,
  capacity=&quot;1GB&quot;
)

# 第一次运行时向卷中写入文件
with sdk.sandbox.create(
  region=&quot;ord&quot;,
  volumes={
    &quot;/data/dataset&quot;: volume[&quot;slug&quot;],
  },
  labels={&quot;job&quot;: &quot;prepare&quot;}
) as sandbox:
  sandbox.fs.write_text_file(&quot;/data/dataset/hello.txt&quot;, &quot;Persist me!\n&quot;)

# 新沙箱 —— 可能数小时后启动 —— 可以读取同一个文件
with sdk.sandbox.create(
  region=&quot;ord&quot;,
  volumes={
    &quot;/data/dataset&quot;: volume[&quot;id&quot;],  # ID 也可以用
  }
) as sandbox:
  contents = sandbox.fs.read_text_file(&quot;/data/dataset/hello.txt&quot;)
  print(contents)  # &quot;Persist me!&quot;
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
<deno-tab value="python-async" label="Python (异步)">
<div class="relative"><pre><code class="highlight notranslate language-py"><span class="token keyword">from</span> deno_sandbox <span class="token keyword">import</span> AsyncDenoDeploy

sdk <span class="token operator">=</span> AsyncDenoDeploy<span class="token punctuation">(</span><span class="token punctuation">)</span>

volume <span class="token operator">=</span> <span class="token keyword">await</span> sdk<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
  slug<span class="token operator">=</span><span class="token string">"dataset"</span><span class="token punctuation">,</span>
  region<span class="token operator">=</span><span class="token string">"ord"</span><span class="token punctuation">,</span>
  capacity<span class="token operator">=</span><span class="token string">"1GB"</span>
<span class="token punctuation">)</span>

<span class="token comment"># 第一次运行时向卷中写入文件</span>
<span class="token keyword">async</span> <span class="token keyword">with</span> sdk<span class="token punctuation">.</span>sandbox<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
  region<span class="token operator">=</span><span class="token string">"ord"</span><span class="token punctuation">,</span>
  volumes<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token string">"/data/dataset"</span><span class="token punctuation">:</span> volume<span class="token punctuation">[</span><span class="token string">"slug"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  labels<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">"job"</span><span class="token punctuation">:</span> <span class="token string">"prepare"</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span> <span class="token keyword">as</span> sandbox<span class="token punctuation">:</span>
  <span class="token keyword">await</span> sandbox<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>write_text_file<span class="token punctuation">(</span><span class="token string">"/data/dataset/hello.txt"</span><span class="token punctuation">,</span> <span class="token string">"Persist me!\n"</span><span class="token punctuation">)</span>

<span class="token comment"># 新沙箱 —— 可能数小时后启动 —— 可以读取同一个文件</span>
<span class="token keyword">async</span> <span class="token keyword">with</span> sdk<span class="token punctuation">.</span>sandbox<span class="token punctuation">.</span>create<span class="token punctuation">(</span>
  region<span class="token operator">=</span><span class="token string">"ord"</span><span class="token punctuation">,</span>
  volumes<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token string">"/data/dataset"</span><span class="token punctuation">:</span> volume<span class="token punctuation">[</span><span class="token string">"id"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment"># ID 也可以用</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span> <span class="token keyword">as</span> sandbox<span class="token punctuation">:</span>
  contents <span class="token operator">=</span> <span class="token keyword">await</span> sandbox<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>read_text_file<span class="token punctuation">(</span><span class="token string">"/data/dataset/hello.txt"</span><span class="token punctuation">)</span>
  <span class="token keyword">print</span><span class="token punctuation">(</span>contents<span class="token punctuation">)</span>  <span class="token comment"># "Persist me!"</span>
</code></pre>

      <button id="copy-button-111" class="copyButton" data-copy="from deno_sandbox import AsyncDenoDeploy

sdk = AsyncDenoDeploy()

volume = await sdk.volumes.create(
  slug=&quot;dataset&quot;,
  region=&quot;ord&quot;,
  capacity=&quot;1GB&quot;
)

# 第一次运行时向卷中写入文件
async with sdk.sandbox.create(
  region=&quot;ord&quot;,
  volumes={
    &quot;/data/dataset&quot;: volume[&quot;slug&quot;],
  },
  labels={&quot;job&quot;: &quot;prepare&quot;}
) as sandbox:
  await sandbox.fs.write_text_file(&quot;/data/dataset/hello.txt&quot;, &quot;Persist me!\n&quot;)

# 新沙箱 —— 可能数小时后启动 —— 可以读取同一个文件
async with sdk.sandbox.create(
  region=&quot;ord&quot;,
  volumes={
    &quot;/data/dataset&quot;: volume[&quot;id&quot;],  # ID 也可以用
  }
) as sandbox:
  contents = await sandbox.fs.read_text_file(&quot;/data/dataset/hello.txt&quot;)
  print(contents)  # &quot;Persist me!&quot;
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
</deno-tabs>
<p>挂载点表现得像普通目录。你可以创建子文件夹、写入二进制文件，或直接从卷中执行程序。</p>
<h2 id="%E5%AE%89%E5%85%A8%E5%88%A0%E9%99%A4%E5%8D%B7" tabindex="-1">安全删除卷 <a class="header-anchor" href="#%E5%AE%89%E5%85%A8%E5%88%A0%E9%99%A4%E5%8D%B7"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h2>
<deno-tabs group-id="sandbox-sdk">
<deno-tab value="js" label="JavaScript" default>
<div class="relative"><pre><code class="highlight notranslate language-tsx"><span class="token keyword">await</span> client<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">"training-cache"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

      <button id="copy-button-120" class="copyButton" data-copy="await client.volumes.delete(&quot;training-cache&quot;);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
<deno-tab value="python" label="Python">
<div class="relative"><pre><code class="highlight notranslate language-py">sdk<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token string">"training-cache"</span><span class="token punctuation">)</span>
</code></pre>

      <button id="copy-button-122" class="copyButton" data-copy="sdk.volumes.delete(&quot;training-cache&quot;)
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
<deno-tab value="python-async" label="Python (异步)">
<div class="relative"><pre><code class="highlight notranslate language-py"><span class="token keyword">await</span> sdk<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token string">"training-cache"</span><span class="token punctuation">)</span>
</code></pre>

      <button id="copy-button-124" class="copyButton" data-copy="await sdk.volumes.delete(&quot;training-cache&quot;)
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
</deno-tabs>
<p>删除是一个两步过程：</p>
<ol>
<li>API 会立即将卷标记为删除状态，阻止新沙箱请求挂载它，并释放该 slug 以供将来使用。</li>
<li>后台任务将在 24 小时后从集群中移除底层块存储。此宽限期允许你在意外删除卷时联系支持。</li>
</ol>
<p>宽限期内无法挂载或读取该卷。</p>
<h2 id="%E5%BF%AB%E7%85%A7" tabindex="-1">快照 <a class="header-anchor" href="#%E5%BF%AB%E7%85%A7"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h2>
<p>快照是从卷创建的只读镜像。当沙箱以快照作为根目录启动时，整个文件系统被快照内容替换。你可以运行一次 <code>apt-get install</code> 或 <code>npm install</code>，创建快照，然后所有未来的沙箱启动时都会立即拥有预安装的软件。</p>
<h3 id="%E5%88%9B%E5%BB%BA%E5%BF%AB%E7%85%A7%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B" tabindex="-1">创建快照的工作流程 <a class="header-anchor" href="#%E5%88%9B%E5%BB%BA%E5%BF%AB%E7%85%A7%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h3>
<ol>
<li>从基础镜像创建一个<strong>可启动卷</strong></li>
<li>使用该卷作为 <code>root</code>（可写）启动沙箱</li>
<li>安装软件</li>
<li>对该卷进行快照</li>
</ol>
<p>从快照启动的沙箱会立即启动并拥有所有预配置的软件。</p>
<p>当卷用 <code>from</code> 选项创建时即为<strong>可启动</strong>。目前唯一可用的基础镜像是 <code>builtin:debian-13</code>。</p>
<deno-tabs group-id="sandbox-sdk">
<deno-tab value="js" label="JavaScript" default>
<div class="relative"><pre><code class="highlight notranslate language-tsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> Client <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@deno/sandbox"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 1. 创建一个可启动卷</span>
<span class="token keyword">const</span> volume <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  region<span class="token operator">:</span> <span class="token string">"ord"</span><span class="token punctuation">,</span>
  slug<span class="token operator">:</span> <span class="token string">"my-toolchain"</span><span class="token punctuation">,</span>
  capacity<span class="token operator">:</span> <span class="token string">"10GiB"</span><span class="token punctuation">,</span>
  from<span class="token operator">:</span> <span class="token string">"builtin:debian-13"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 2. 启动沙箱，使用该卷作为根目录（可写）</span>
<span class="token keyword">await</span> using sandbox <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span>sandboxes<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  region<span class="token operator">:</span> <span class="token string">"ord"</span><span class="token punctuation">,</span>
  root<span class="token operator">:</span> volume<span class="token punctuation">.</span>slug<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3. 安装软件</span>
<span class="token keyword">await</span> sandbox<span class="token punctuation">.</span>sh<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">apt-get update &amp;&amp; apt-get install -y nodejs npm</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">await</span> sandbox<span class="token punctuation">.</span>sh<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">npm install -g typescript</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token comment">// 4. 对卷进行快照</span>
<span class="token keyword">const</span> snapshot <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span><span class="token function">snapshot</span><span class="token punctuation">(</span>volume<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  slug<span class="token operator">:</span> <span class="token string">"my-toolchain-snapshot"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

      <button id="copy-button-182" class="copyButton" data-copy="import { Client } from &quot;@deno/sandbox&quot;;

const client = new Client();

// 1. 创建一个可启动卷
const volume = await client.volumes.create({
  region: &quot;ord&quot;,
  slug: &quot;my-toolchain&quot;,
  capacity: &quot;10GiB&quot;,
  from: &quot;builtin:debian-13&quot;,
});

// 2. 启动沙箱，使用该卷作为根目录（可写）
await using sandbox = await client.sandboxes.create({
  region: &quot;ord&quot;,
  root: volume.slug,
});

// 3. 安装软件
await sandbox.sh`apt-get update && apt-get install -y nodejs npm`;
await sandbox.sh`npm install -g typescript`;

// 4. 对卷进行快照
const snapshot = await client.volumes.snapshot(volume.id, {
  slug: &quot;my-toolchain-snapshot&quot;,
});
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
<deno-tab value="cli" label="命令行">
<div class="relative"><pre><code class="highlight notranslate language-bash"><span class="token comment"># 从卷创建快照</span>
deno sandbox snapshots create my-toolchain my-toolchain-snapshot
</code></pre>

      <button id="copy-button-184" class="copyButton" data-copy="# 从卷创建快照
deno sandbox snapshots create my-toolchain my-toolchain-snapshot
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
</deno-tabs>
<h3 id="%E4%BB%8E%E5%BF%AB%E7%85%A7%E5%90%AF%E5%8A%A8" tabindex="-1">从快照启动 <a class="header-anchor" href="#%E4%BB%8E%E5%BF%AB%E7%85%A7%E5%90%AF%E5%8A%A8"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h3>
<p>拿到快照后，可用其作为创建新沙箱时的 <code>root</code>。沙箱必须和快照位于同一区域：</p>
<deno-tabs group-id="sandbox-sdk">
<deno-tab value="js" label="JavaScript" default>
<div class="relative"><pre><code class="highlight notranslate language-tsx"><span class="token keyword">await</span> using sandbox <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span>sandboxes<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  region<span class="token operator">:</span> <span class="token string">"ord"</span><span class="token punctuation">,</span>
  root<span class="token operator">:</span> <span class="token string">"my-toolchain-snapshot"</span><span class="token punctuation">,</span> <span class="token comment">// 快照的 slug 或 ID</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// TypeScript 和 Node.js 已经安装好</span>
<span class="token keyword">await</span> sandbox<span class="token punctuation">.</span>sh<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">tsc --version</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token keyword">await</span> sandbox<span class="token punctuation">.</span>sh<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">node --version</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre>

      <button id="copy-button-193" class="copyButton" data-copy="await using sandbox = await client.sandboxes.create({
  region: &quot;ord&quot;,
  root: &quot;my-toolchain-snapshot&quot;, // 快照的 slug 或 ID
});

// TypeScript 和 Node.js 已经安装好
await sandbox.sh`tsc --version`;
await sandbox.sh`node --version`;
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
</deno-tabs>
<p>沙箱启动时，快照的文件系统作为根目录。会话期间所有写操作都是临时性的，它们不会修改快照。</p>
<h3 id="%E5%88%97%E5%87%BA%E5%BF%AB%E7%85%A7" tabindex="-1">列出快照 <a class="header-anchor" href="#%E5%88%97%E5%87%BA%E5%BF%AB%E7%85%A7"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h3>
<deno-tabs group-id="sandbox-sdk">
<deno-tab value="js" label="JavaScript" default>
<div class="relative"><pre><code class="highlight notranslate language-tsx"><span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span>snapshots<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> snap <span class="token keyword">of</span> page<span class="token punctuation">.</span>items<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>snap<span class="token punctuation">.</span>slug<span class="token punctuation">,</span> snap<span class="token punctuation">.</span>region<span class="token punctuation">,</span> snap<span class="token punctuation">.</span>bootable<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>

      <button id="copy-button-202" class="copyButton" data-copy="const page = await client.snapshots.list();
for (const snap of page.items) {
  console.log(snap.slug, snap.region, snap.bootable);
}
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
<deno-tab value="cli" label="命令行">
<div class="relative"><pre><code class="highlight notranslate language-bash">$ deno sandbox snapshots list
ID                             SLUG                    REGION   ALLOCATED    BOOTABLE
snp_ord_spmbe47dysccpy277ma6   my-toolchain-snapshot   ord      <span class="token number">217.05</span> MiB   TRUE
</code></pre>

      <button id="copy-button-204" class="copyButton" data-copy="$ deno sandbox snapshots list
ID                             SLUG                    REGION   ALLOCATED    BOOTABLE
snp_ord_spmbe47dysccpy277ma6   my-toolchain-snapshot   ord      217.05 MiB   TRUE
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
</deno-tabs>
<h3 id="%E4%BB%8E%E5%BF%AB%E7%85%A7%E5%88%9B%E5%BB%BA%E5%8D%B7" tabindex="-1">从快照创建卷 <a class="header-anchor" href="#%E4%BB%8E%E5%BF%AB%E7%85%A7%E5%88%9B%E5%BB%BA%E5%8D%B7"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h3>
<p>从快照创建一个新的可写卷：</p>
<deno-tabs group-id="sandbox-sdk">
<deno-tab value="js" label="JavaScript" default>
<div class="relative"><pre><code class="highlight notranslate language-tsx"><span class="token keyword">const</span> volume <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span>volumes<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  region<span class="token operator">:</span> <span class="token string">"ord"</span><span class="token punctuation">,</span>
  slug<span class="token operator">:</span> <span class="token string">"my-toolchain-fork"</span><span class="token punctuation">,</span>
  capacity<span class="token operator">:</span> <span class="token string">"10GiB"</span><span class="token punctuation">,</span>
  from<span class="token operator">:</span> <span class="token string">"my-toolchain-snapshot"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

      <button id="copy-button-213" class="copyButton" data-copy="const volume = await client.volumes.create({
  region: &quot;ord&quot;,
  slug: &quot;my-toolchain-fork&quot;,
  capacity: &quot;10GiB&quot;,
  from: &quot;my-toolchain-snapshot&quot;,
});
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
</deno-tabs>
<p>新卷包含快照内容且完全可写。你可以用它来修改快照内容然后重新创建快照。</p>
<h3 id="%E5%88%A0%E9%99%A4%E5%BF%AB%E7%85%A7" tabindex="-1">删除快照 <a class="header-anchor" href="#%E5%88%A0%E9%99%A4%E5%BF%AB%E7%85%A7"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h3>
<deno-tabs group-id="sandbox-sdk">
<deno-tab value="js" label="JavaScript" default>
<div class="relative"><pre><code class="highlight notranslate language-tsx"><span class="token keyword">await</span> client<span class="token punctuation">.</span>snapshots<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">"my-toolchain-snapshot"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

      <button id="copy-button-222" class="copyButton" data-copy="await client.snapshots.delete(&quot;my-toolchain-snapshot&quot;);
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
<deno-tab value="cli" label="命令行">
<div class="relative"><pre><code class="highlight notranslate language-bash">deno sandbox snapshots delete my-toolchain-snapshot
</code></pre>

      <button id="copy-button-224" class="copyButton" data-copy="deno sandbox snapshots delete my-toolchain-snapshot
" title="Copy">
        <svg class="copy-icon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="7" height="7" fill="none"/>
          <rect x="6" y="6" width="7" height="7" fill="none"/>
          <path d="M1.55566 2.7C1.55566 2.03726 2.09292 1.5 2.75566 1.5H8.75566C9.41841 1.5 9.95566 2.03726 9.95566 2.7V5.1H12.3557C13.0184 5.1 13.5557 5.63726 13.5557 6.3V12.3C13.5557 12.9627 13.0184 13.5 12.3557 13.5H6.35566C5.69292 13.5 5.15566 12.9627 5.15566 12.3V9.9H2.75566C2.09292 9.9 1.55566 9.36274 1.55566 8.7V2.7ZM6.35566 9.9V12.3H12.3557V6.3H9.95566V8.7C9.95566 9.36274 9.41841 9.9 8.75566 9.9H6.35566ZM8.75566 8.7V2.7H2.75566V8.7H8.75566Z" fill="hsla(var(--foreground-secondary))"/>
        </svg>
        <svg class="check-icon hidden" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7.5L6.5 11L12 3" stroke="green" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div></deno-tab>
</deno-tabs>
<h3 id="%E5%8D%B7-%E5%92%8C-%E5%BF%AB%E7%85%A7%E5%AF%B9%E6%AF%94" tabindex="-1">卷 和 快照对比 <a class="header-anchor" href="#%E5%8D%B7-%E5%92%8C-%E5%BF%AB%E7%85%A7%E5%AF%B9%E6%AF%94"><span class="sr-only">Jump to heading</span><span aria-hidden="true" class="anchor-end">#</span></a></h3>
<table>
<thead>
<tr>
<th>特性</th>
<th>卷（Volumes）</th>
<th>快照（Snapshots）</th>
</tr>
</thead>
<tbody>
<tr>
<td>访问权限</td>
<td>读写</td>
<td>只读</td>
</tr>
<tr>
<td>挂载点</td>
<td>任意路径，启动卷可用作根目录</td>
<td>仅根文件系统</td>
</tr>
<tr>
<td>使用场景</td>
<td>缓存、数据库、安装软件</td>
<td>预安装的软件、工具链</td>
</tr>
<tr>
<td>并发使用</td>
<td>同时只能一个沙箱挂载</td>
<td>多个沙箱可以同时使用</td>
</tr>
<tr>
<td>区域</td>
<td>必须与沙箱区域匹配</td>
<td>必须与沙箱区域匹配</td>
</tr>
</tbody>
</table>
</div></article><div class="wwads-cn wwads-horizontal w-full my-4" data-id="354"></div><section id="feedback-section" class="flex flex-col mt-12 gap-2 p-4 sm:p-8 bg-blue-splash dark:bg-deploy-900 rounded-md mx-auto"><h2 class="text-xl mb-2 pb-2 font-normal">你找到了你需要的东西吗？</h2><div class="flex flex-col sm:flex-row sm:flex-wrap gap-8"><div class="flex-1"><form aria-live="polite" id="feedback-form"><div id="feedback-form__content" class="grid grid-cols-1 transition-all duration-300 grid-rows-[max-content_0fr] w-full items-start gap-2 overflow-hidden"><div class="flex flex-wrap gap-2 items-center"><input class="sr-only" id="feedback-yes" type="radio" name="feedback-vote" aria-label="Yes" value="yes" required><label class="btn" for="feedback-yes">是的<svg aria-hidden="true" focusable="false" class="color-fg-muted" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;"><path d="M8.834.066c.763.087 1.5.295 2.01.884.505.581.656 1.378.656 2.3 0 .467-.087 1.119-.157 1.637L11.328 5h1.422c.603 0 1.174.085 1.668.333.508.254.911.679 1.137 1.2.453.998.438 2.447.188 4.316l-.04.306c-.105.79-.195 1.473-.313 2.033-.131.63-.315 1.209-.668 1.672C13.97 15.847 12.706 16 11 16c-1.848 0-3.234-.333-4.388-.653-.165-.045-.323-.09-.475-.133-.658-.186-1.2-.34-1.725-.415A1.75 1.75 0 0 1 2.75 16h-1A1.75 1.75 0 0 1 0 14.25v-7.5C0 5.784.784 5 1.75 5h1a1.75 1.75 0 0 1 1.514.872c.258-.105.59-.268.918-.508C5.853 4.874 6.5 4.079 6.5 2.75v-.5c0-1.202.994-2.337 2.334-2.184ZM4.5 13.3c.705.088 1.39.284 2.072.478l.441.125c1.096.305 2.334.598 3.987.598 1.794 0 2.28-.223 2.528-.549.147-.193.276-.505.394-1.07.105-.502.188-1.124.295-1.93l.04-.3c.25-1.882.189-2.933-.068-3.497a.921.921 0 0 0-.442-.48c-.208-.104-.52-.174-.997-.174H11c-.686 0-1.295-.577-1.206-1.336.023-.192.05-.39.076-.586.065-.488.13-.97.13-1.328 0-.809-.144-1.15-.288-1.316-.137-.158-.402-.304-1.048-.378C8.357 1.521 8 1.793 8 2.25v.5c0 1.922-.978 3.128-1.933 3.825a5.831 5.831 0 0 1-1.567.81ZM2.75 6.5h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path></svg></label><input class="sr-only" id="feedback-no" type="radio" name="feedback-vote" aria-label="No" value="no" required><label class="btn" for="feedback-no">没有<svg aria-hidden="true" focusable="false" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;"><path d="M7.083 15.986c-.763-.087-1.499-.295-2.011-.884-.504-.581-.655-1.378-.655-2.299 0-.468.087-1.12.157-1.638l.015-.112H3.167c-.603 0-1.174-.086-1.669-.334a2.415 2.415 0 0 1-1.136-1.2c-.454-.998-.438-2.447-.188-4.316l.04-.306C.32 4.108.41 3.424.526 2.864c.132-.63.316-1.209.669-1.672C1.947.205 3.211.053 4.917.053c1.848 0 3.234.332 4.388.652l.474.133c.658.187 1.201.341 1.726.415a1.75 1.75 0 0 1 1.662-1.2h1c.966 0 1.75.784 1.75 1.75v7.5a1.75 1.75 0 0 1-1.75 1.75h-1a1.75 1.75 0 0 1-1.514-.872c-.259.105-.59.268-.919.508-.671.491-1.317 1.285-1.317 2.614v.5c0 1.201-.994 2.336-2.334 2.183Zm4.334-13.232c-.706-.089-1.39-.284-2.072-.479l-.441-.125c-1.096-.304-2.335-.597-3.987-.597-1.794 0-2.28.222-2.529.548-.147.193-.275.505-.393 1.07-.105.502-.188 1.124-.295 1.93l-.04.3c-.25 1.882-.19 2.933.067 3.497a.923.923 0 0 0 .443.48c.208.104.52.175.997.175h1.75c.685 0 1.295.577 1.205 1.335-.022.192-.049.39-.075.586-.066.488-.13.97-.13 1.329 0 .808.144 1.15.288 1.316.137.157.401.303 1.048.377.307.035.664-.237.664-.693v-.5c0-1.922.978-3.127 1.932-3.825a5.878 5.878 0 0 1 1.568-.809Zm1.75 6.798h1a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25h-1a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25Z"></path></svg></label><a class="btn" target="_blank" href="https://github.com/zhcndoc/deno/edit/main/sandbox/volumes.md">编辑此页面<svg width="98" height="96" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" fill="currentColor" style="display:inline-block;user-select:none;vertical-align:text-bottom;" viewBox="0 0 98 96"><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="currentColor"></path></svg></a></div><div id="feedback-more" class="hidden w-full overflow-hidden"><p class="font-semibold !mt-2">我们可以做些什么来改善这个页面？</p><div class="space-y-1"><textarea class="block w-full p-2 border border-foreground-tertiary bg-white dark:bg-background-primary rounded" name="feedback-comment" id="feedback-comment" placeholder="Your feedback will be posted as an issue in the denoland/docs GitHub repo"></textarea></div><div class="space-y-1"><label for="feedback-contact">GitHub 用户名（可选）</label><input type="text" class="block w-full p-2 border border-foreground-tertiary bg-white dark:bg-background-primary rounded" name="feedback-contact" id="feedback-contact" aria-invalid="false" placeholder="username" value=""><p class="text-xs text-gray-600 dark:text-gray-400 italic mt-1">如果提供，您将在创建的 GitHub 问题中被 @提及</p></div><button type="submit" class="btn  mt-4">发送反馈给我们</button></div></div><a rel="" class="mt-4 !underline underline-offset-2 text-xs block" target="_blank" href="/deploy/privacy_policy">隐私政策</a></form></div></div></section></div></main><ul class="toc-list hidden sticky p-4 pr-0 h-screen-minus-header overflow-y-auto border-l border-l-foreground-tertiary lg:block lg:w-full top-header-plus-subnav" id="toc"><div class="wwads-cn wwads-vertical max-w-[200px] my-4" data-id="354"></div><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E9%A2%84%E9%85%8D%E5%AD%98%E5%82%A8" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">预配存储 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E4%BD%BF%E7%94%A8-client.volumes-%E9%A2%84%E9%85%8D%E7%BD%AE%E5%AD%98%E5%82%A8" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">使用 Client.volumes 预配置存储 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E6%A3%80%E6%9F%A5%E5%92%8C%E6%90%9C%E7%B4%A2%E5%8D%B7" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">检查和搜索卷 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E5%9C%A8%E6%B2%99%E7%AE%B1%E5%86%85%E6%8C%82%E8%BD%BD%E5%8D%B7" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">在沙箱内挂载卷 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E5%AE%89%E5%85%A8%E5%88%A0%E9%99%A4%E5%8D%B7" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">安全删除卷 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E5%BF%AB%E7%85%A7" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">快照 </a><ul class="ml-2"><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E5%88%9B%E5%BB%BA%E5%BF%AB%E7%85%A7%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">创建快照的工作流程 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E4%BB%8E%E5%BF%AB%E7%85%A7%E5%90%AF%E5%8A%A8" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">从快照启动 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E5%88%97%E5%87%BA%E5%BF%AB%E7%85%A7" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">列出快照 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E4%BB%8E%E5%BF%AB%E7%85%A7%E5%88%9B%E5%BB%BA%E5%8D%B7" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">从快照创建卷 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E5%88%A0%E9%99%A4%E5%BF%AB%E7%85%A7" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">删除快照 </a></li><li class="m-2 mr-0 leading-4 text-balance"><a href="#%E5%8D%B7-%E5%92%8C-%E5%BF%AB%E7%85%A7%E5%AF%B9%E6%AF%94" class="text-smaller lg:text-foreground-secondary hover:text-primary transition-colors duration-200 ease-in-out select-none">卷 和 快照对比 </a></li></ul></li></ul></div><footer class="text-smaller bg-gray-50 dark:bg-gray-950 p-4 pt-12 sm:px-8 border-t border-t-foreground-tertiary"><nav class="flex flex-col gap-x-4 gap-y-12 max-w-7xl md:flex-row md:flex-wrap md:justify-between md:w-full md:gap-y-8 md:mx-auto"><section class="flex-auto"><h3 class="mb-2 uppercase font-bold text-foreground-primary whitespace-pre">Deno 文档</h3><ul class="m-0 p-0 pl-3 border-l border-l-background-tertiary list-none"><li><a class="block mb-2 hover:text-primary hover:underline" href="/runtime/">Deno 运行时</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="/examples/">示例</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://jsr.io/@std">标准库</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="/api/deno/~/Deno">Deno API Reference</a></li></ul></section><section class="flex-auto"><h3 class="mb-2 uppercase font-bold text-foreground-primary whitespace-pre">服务文档</h3><ul class="m-0 p-0 pl-3 border-l border-l-background-tertiary list-none"><li><a class="block mb-2 hover:text-primary hover:underline" href="/deploy/">Deno Deploy </a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="/deploy/classic/">Deno Deploy Classic</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="/subhosting/manual/">Deno 子托管</a></li></ul></section><section class="flex-auto"><h3 class="mb-2 uppercase font-bold text-foreground-primary whitespace-pre">社区</h3><ul class="m-0 p-0 pl-3 border-l border-l-background-tertiary list-none"><li><a class="block mb-2 hover:text-primary hover:underline" href="https://discord.gg/deno">Discord</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://github.com/denoland">GitHub</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://youtube.com/@deno_land">YouTube</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://bsky.app/profile/deno.land">Bluesky</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://fosstodon.org/@deno_land">Mastodon</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://twitter.com/deno_land">Twitter</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://deno.news/">Newsletter</a></li></ul></section><section class="flex-auto"><h3 class="mb-2 uppercase font-bold text-foreground-primary whitespace-pre">帮助与反馈</h3><ul class="m-0 p-0 pl-3 border-l border-l-background-tertiary list-none"><li><a class="block mb-2 hover:text-primary hover:underline" href="https://discord.gg/deno">社区支持</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://denostatus.com">部署系统状态</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://github.com/denoland/deploy_feedback">部署反馈</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="mailto:support@deno.com">报告问题</a></li></ul></section><section class="flex-auto"><h3 class="mb-2 uppercase font-bold text-foreground-primary whitespace-pre">公司</h3><ul class="m-0 p-0 pl-3 border-l border-l-background-tertiary list-none"><li><a class="block mb-2 hover:text-primary hover:underline" href="https://deno.com/">Deno Website</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://deno.com/blog">Blog</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="https://merch.deno.com/">周边商品</a></li><li><a class="block mb-2 hover:text-primary hover:underline" href="/deploy/privacy_policy">Privacy Policy</a></li></ul></section></nav><p class="m-0 mt-16 mx-auto text-center text-xs text-foreground-secondary"><a target="_blank" href="https://www.zhcndoc.com">简中文档</a>｜<a rel="nofollow" target="_blank" href="https://beian.miit.gov.cn">沪ICP备2024070610号-3</a></p></footer></body></html>