---
title: "开始使用"
description: "逐步指南，帮助您创建和配置您的第一个 Deno Deploy 早期访问应用程序，包括组织设置、构建配置、环境变量和部署监控。"
---

:::caution

Deno Deploy EA 正在进行私密访问。您必须获得明确的许可才能使用它，否则将无法访问新的仪表板。

:::

## 创建组织

要开始使用 Deno Deploy EA，您首先必须创建一个 Deno Deploy EA 组织。您可以通过访问 [app.deno.com](http://app.deno.com) 来完成此操作。

首次访问仪表板时，您将看到 Deno Deploy EA 组织创建屏幕：

![Deno Deploy EA 组织创建屏幕。](./images/create_org.png)

目前，您无法创建与 Deno Deploy Classic 中任何项目名称具有相同 slug 的组织。

当前，组织名称和组织 slug 在创建组织后无法更改。

## 创建应用

创建组织后，您将被重定向到组织应用页面，在此您可以查看应用中的所有组织列表。在这里，您可以导航到组织设置和管理附加到您组织的自定义域的自定义域列表。

要创建应用，请按 `+ New App` 按钮：

![应用创建屏幕截图](./images/create_app.png)

一个应用是一个单一的部署的网络服务，具有一个构建配置、构建历史、环境变量、附加的自定义域、链接的 GitHub 存储库等。

## 选择一个存储库

![存储库选择屏幕截图](./images/select_org.png)

接下来，您需要选择要从中部署应用代码的 GitHub 存储库。在撰写本文时，您必须从 GitHub 存储库进行部署。

如果您的存储库没有显示出来，请使用用户/组织或存储库下拉中的 `Add another GitHub account` 或 `Configure GitHub App permissions` 按钮，以授予 Deno Deploy GitHub 应用程序部署您的存储库的权限。

> ⏳ 我们还不支持部署 mono-repos（例如，实际应用程序完全位于子目录中的存储库）。

## 配置您的应用

选择 GitHub 存储库后，Deno Deploy EA 将自动尝试检测您正在部署的应用类型，并确定适当的构建配置。您可以在右上角的 `App Config` 框中查看检测到的配置。

![应用配置屏幕截图](./images/app_config.png)

如果构建配置检测不正确，或者您想要进行更改，请单击 `Edit build config` 按钮以打开构建配置面板。

![构建配置屏幕截图](./images/build_config.png)

## 配置您的构建

在构建配置面板中，您可以编辑框架预设。如果您不使用任何框架，或使用的框架不在列表中，请选择 `No Preset`。

然后，您可以根据所选的预设编辑多个选项：

### 安装命令

如果您需要在运行构建命令之前安装依赖项，例如 `npm install`、`deno install` 或类似的命令，请在此输入此命令。如果您正在部署没有 `package.json` 的 Deno 应用程序，通常可以将此项留空。

### 构建命令

要执行的命令，以处理您的源代码并构建/打包/编译应用程序，以便能够部署。可能是框架构建命令，例如 `next build`、`package.json` 或 `deno.json` 中的构建任务，或任何其他 shell 脚本。如果您的应用程序没有构建命令，例如带有 JavaScript 或 TypeScript 入口点的服务器端 Deno 应用程序，您可以将此字段留空。

### 运行时配置

对于大多数框架，此处没有配置选项，因为 Deno Deploy EA 将根据框架预设找出应用程序的理想运行时配置。如果未配置框架，您可以在此选择应用程序是 `动态` 应用程序，需在每个请求的服务器端执行代码，例如 API 服务器、服务器端渲染的应用等，还是 `静态` 应用程序，仅由一组静态文件组成，需要托管。

### 动态入口点

应执行以启动应用程序的 JavaScript 或 TypeScript 文件。这是您本地传递给 `deno run` 的文件路径，以启动应用程序。路径必须相对于工作目录。

### 动态参数

在启动时传递给应用程序的附加命令行参数，在入口点之后。这些参数是传递给应用程序而不是 Deno 本身的参数。

### 静态目录

工作目录中包含要提供的静态文件的目录。例如，`dist`、`_site` 或 `.output`。

### 单页面应用模式

该应用程序是否是单页面应用，应为任何不存在于静态目录中的路径提供根 `index.html`，而不是 404 页面。

关闭面板将保存设置。

### 环境变量

在此页面上，您还可以通过按下 `Add/Edit environment variables` 按钮来添加环境变量：

![环境变量配置屏幕截图](./images/env_var.png)

在此面板中，按 `+ Add variable` 按钮为此项目创建一个新的环境变量。您可以给它起个名字，设置一个值，并选择此变量是否应以明文保存（您可以稍后从控制台查看值），或者作为密钥（您不能稍后从控制台查看值）。

您还可以选择此环境变量应在哪些上下文中可用。可用的上下文有：

- **生产环境：** 通过一个生产域（如 `<app>.<org>.deno.net` 或自定义域）访问请求您的应用程序。
- **开发环境：** 通过预览域或您的应用程序的 git 分支域访问的请求。

环境变量必须至少添加到一个上下文中，但可以添加到多个甚至所有上下文。

要保存环境变量，请按保存按钮。您可以重新打开面板以编辑/删除您添加的环境变量。

您还可以在此页面上编辑应用名称，并选择应用程序应从哪些区域提供服务。

## 构建和部署您的应用

最后，您可以按 `Create App` 按钮以创建应用。这将创建应用并立即触发第一次构建：

![应用构建日志截图](./images/build_logs.png)

在构建页面上，您可以查看实时流式构建日志，分为多个部分：

- **准备：** 克隆 GitHub 存储库并恢复构建缓存。
- **安装：** 执行安装命令和任何框架特定的预安装设置。
- **构建：** 执行构建命令、任何框架特定的预构建和后构建设置，以及准备部署的构建工件。
- **预热：** 向部署的预览 URL 发送请求，以确保其正确启动。预热部分显示的日志是运行时日志，而不是构建日志。
- **路由：** Deno Deploy 正在向所有全球区域推广此构建的新版本。

在此次构建的左上角有一个按钮可以取消构建。对于失败的构建，还有一个按钮可以重启构建。

对于已完成的构建，在右上角显示构建的预览 URL。在更下方显示了此构建被部署到的所有时间线，例如 `Production` 或 `Git Branch` 时间线。

您还可以在此页面上查看构建是如何触发的。这可以是 UI 触发的 `manual action`，或通过 GitHub 集成触发的 `GitHub repo`。

您可以通过预览 URL 或时间线列表中显示的其他任何 URL 来查看应用程序。

## 监控您的应用

访问您的应用后，您可以在我们的可观察性面板中查看有关您应用的遥测，形式为日志和跟踪：

- 可观察性
- 设置